\def\module{M4P61 Infinite Groups}
\def\lecturer{Dr Isabel M\"uller}
\def\term{Autumn 2019}
\def\cover{}
\def\syllabus{}
\def\thm{subsection}

\input{../style/header}

\begin{document}

\input{../style/main}

\setcounter{section}{0}

\section{Introduction}

\lecture{1}{Thursday}{03/10/19}

Groups are ubiquitous throughout almost all areas in mathematics and many areas in physics. They arise naturally as the symmetries of classical mathematical objects, that is bijective maps which preserve the structure of the object studied. Well known groups include $ \SSS_n $, the group of symmetries of a set of size $ n $, or $ \DDD_n $, the group of symmetries of a regular $ n $-gon. From linear algebra we also know $ \GL_n\br{\RR} $, the group of all invertible linear transformations of the vector space $ \RR^n $, and $ \O\br{n} $, its subgroup of isometries. Historically, groups appeared for the first time in the work of Galois, when he tried to understand solutions of polynomial equations by studying the group of symmetries of their roots. He was the first to use the word group in the modern sense and that work dates back to 1829, when he was 18 years old. Another main contribution to the study of groups in mathematics came from Felix Klein's Erlangen program in 1872, in which he aimed to understand and classify euclidean, affine, projective, etc geometries by studying their group of symmetries. A huge milestone in the study of groups has been the classification of finite simple groups, which is a result based on the accumulated work of more than 100 authors on tens of thousands of pages published between 1954 and 2004.

This course will focus on infinite groups. More specifically, we will aim to study and understand groups by their actions on geometric objects. In that sense, we can consider the course program as an inverse of Klein's Erlangen program. This area of mathematics goes back to the 1980s, hence is comparably new, and is nowadays wider known as geometric group theory. The two leading questions will roughly be the following.
\begin{itemize}
\item If we know that a given group $ G $ admits an action with properties $ P $ on a space of type $ T $, what
does this tell me about the group $ G $ itself?
\item Assume we are given a group $ G $. Does it act on a given space $ T $ with properties $ P $?
\end{itemize}

Our main goal in the first part will be the fundamental theorem of Bass-Serre theory, which states that a group acting on a tree is the fundamental group of a graph of groups. We first will introduce the notion of graphs in the sense of Serre and study group actions on these graphs. Afterwards, we will introduce free groups as the universal object in the class of groups and study how groups can arise as fundamental groups of graphs. We will see that groups can be presented by giving a set of generators accompanied with a set of relators and point out advantages and disadvantages of this viewpoint on groups.

In the second chapter, we will learn how to construct new groups out of given data via free products, free amalgamated products and HNN extensions. The counterpoint to this, that is the question on whether a given group decomposes into the amalgamated product or HNN extension of other groups, will be of special interest and we will approach it by understanding their actions on trees. This second part concludes with the introduction of graphs of groups and the fundamental theorem of Bass-Serre theory.

In the last part, we will investigate the word problem and its solvability in specific classes of groups. The word problem asks if two words on the generators of some group $ G $ represent the same element in it. Even for finitely presentable groups, the word problem is not always solvable, that is decidable. We will get to know Hopfian and residually finite groups as examples of classes in which the words problem actually is solvable. If time permits, we will conclude the lecture with an introduction into hyperbolic groups.

The following are reading material.
\begin{itemize}
\item R C Lyndon and P E Schupp, Combinatorial group theory, 2001
\item P de la Harpe, Topics in geometric group theory, 2000
\item O Bogopolski, Introduction to group theory, 2008
\item J Rotman, An introduction to the theory of groups, 1995
\item W Magnus, A Karrass, and D Solitar, Combinatorial group theory, 2005
\item D Robinson, A course in the theory of groups, 1993
\end{itemize}

\pagebreak

\section{Geometric group theory}

\subsection{Bass-Serre graphs}

\begin{definition}
A \textbf{graph} $ X $ is a tuple consisting of a set of vertices $ X^0 $, a set of edges $ X^1 $, together with functions $ \alpha, \omega : X^1 \to X^0 $ and $ \overline{\cdot} : X^1 \to X^1 $, such that $ \overline{\overline{e}} = e $ and $ \alpha\br{\overline{e}} = \omega\br{e} $ for every $ e \in X^1 $. We call $ \alpha\br{e} $ the \textbf{initial vertex}, $ \omega\br{e} $ the \textbf{terminal vertex}, and $ \overline{e} $ the \textbf{inverse vertex}.
\end{definition}

A convention is that unless otherwise specified, we identify edges $ e $ and $ e' $ if $ \alpha\br{e} = \alpha\br{e'} $ and $ \omega\br{e} = \omega\br{e'} $. The following are translations of notions.
\begin{itemize}
\item A subgraph is an \textbf{induced} subgraph.
\item A graph homomorphism $ \phi $ from $ X $ to $ Y $ is a mapping from $ X^i \to Y^i $ for $ i = 0, 1 $ such that $ \phi\br{\alpha\br{e}} = \alpha\br{\phi\br{e}} $ and $ \phi\br{\overline{e}} = \overline{\phi\br{e}} $.
\item Given $ x \in X^0 $, then we call the set $ \cbr{e \st \alpha\br{e} = x} $ the \textbf{star} of $ x $, or $ \star x $. The cardinality of $ \star x $ is called the \textbf{valency} of $ x $.
\item A homomorphism $ \phi : X \to Y $ is \textbf{locally injective} if and only if its restriction to $ \star x $ is injective for all $ x \in X^0 $.
\item An \textbf{orientation} of $ X $ is a choice of vertices $ X_+^1 \subseteq X^1 $ which picks exactly one of each pair $ \cbr{e, \overline{e}} $.
\end{itemize}

\begin{example}
\hfill
\begin{itemize}
\item Fix $ n \in \NN_{\ge 1} $ for $ n \ne 2 $. Set
$$ \CCC_n^0 = \cbr{0, \dots, n - 1}, \qquad \CCC_n^1 = \cbr{e_i, \overline{e_i} \st i < n}, \qquad \omega\br{e_i} = \alpha\br{e_{i + 1}} = i + 1 \mod n_i, \qquad i < n. $$
Then $ \CCC_1 $ is
$$
\begin{tikzpicture}
\fill (0, 0) circle (0.1) node[left]{$ 0 $};
\draw [->] (0, 0) arc (180:-170:0.5);
\draw (1, 0) node[right]{$ e_0 = \overline{e_0} $};
\end{tikzpicture}.
$$
\item $ \CCC_\infty $ is given by
$$ \CCC_\infty^0 = \ZZ, \qquad \CCC_\infty^1 = \cbr{e_i, \overline{e_i} \st i \in \ZZ}, \qquad \omega\br{e_i} = \alpha\br{e_{i + 1}}. $$
Then $ \CCC_\infty $ is
$$
\begin{tikzpicture}
\fill (0, 0) circle (0.1) node[above]{$ 0 $};
\fill (1, 0) circle (0.1) node[above]{$ 1 $};
\draw [dashed] (-2, 0) to (-1, 0);
\draw [->] (-1, 0) to node[above]{$ e_{-1} $} (-0.1, 0);
\draw [->] (0, 0) to node[above]{$ e_0 $} (0.9, 0);
\draw [->] (1, 0) to node[above]{$ e_1 $} (1.9, 0);
\draw [dashed] (2, 0) to (3, 0);
\end{tikzpicture}.
$$
\end{itemize}
The graphs $ \CCC_n $ and $ \CCC_\infty $ for $ n \ne 2 $ are called \textbf{circuits}.
\end{example}

\lecture{2}{Tuesday}{08/10/19}

A sequence $ p = e_1 \dots e_n $ with $ e_i \in X^1 $ is called a \textbf{path} from $ \alpha\br{e_1} = x_0 $ to $ x_n = \omega\br{e_n} $ if and only if $ \omega\br{e_i} = \alpha\br{e_{i + 1}} $ for all $ i < n $. We consider vertices to be paths of length zero. A path is called \textbf{reduced} if $ \overline{e_i} \ne e_{i + 1} $. If $ p $ is a path, then $ p^{-1} = \overline{e_n} \dots \overline{e_1} $ is called its \textbf{inverse path}. A path is called a \textbf{closed path} if $ \omega\br{e_n} = \alpha\br{e_1} $.

\begin{note*}
\hfill
\begin{itemize}
\item If we have a path $ p $ given, we can naturally consider it to be a subgraph via
$$ X_p^0 = \cbr{\alpha\br{e_i} \st i < n} \cup \br{\omega\br{e_n}}, \qquad X_p^1 = \cbr{e_1, \dots, e_n, \overline{e_1}, \dots, \overline{e_n}}. $$
\item If $ p = e_1 \dots e_n $ is closed, then a permutation of the form
$$ e_{i + 1} \dots e_ne_1 \dots e_i $$
is called a \textbf{cyclic permutation}. $ p $ is called \textbf{cyclically reduced} if every cyclic permutation is reduced.
\end{itemize}
\end{note*}

\pagebreak

\begin{exercise}
\hfill
\begin{itemize}
\item Let $ \phi : X \to Y $ be a morphism of graphs. Then $ \phi $ is locally injective if and only if the image of any reduced path is reduced.
\item If $ p $ is closed and reduced, then it contains a circuit as a substructure.
\end{itemize}
\end{exercise}

If $ p = e_1 \dots e_n $ and $ q = f_1 \dots f_m $ such that $ \omega\br{e_n} = \alpha\br{f_1} $ then we denote by
$$ pq = e_1 \dots e_nf_1 \dots f_m. $$
A graph $ X $ is \textbf{connected} if for any $ x, y \in X^0 $ there is a path from $ x $ to $ y $. A connected graph without circuits is called a \textbf{tree}.

\begin{exercise}
\hfill
\begin{itemize}
\item $ X $ is a tree if and only if for all $ x, y \in X^0 $ there is a unique reduced path from $ x $ to $ y $.
\item If $ X $ is connected and $ T $ is a tree, then any $ \phi : X \to T $ locally injective is already injective and $ X $ is a tree.
\end{itemize}
\end{exercise}

\begin{lemma}
Let $ X $ be a connected graph and $ T \subseteq X $ a maximal subtree of $ X $, then $ T^0 = X^0 $.
\end{lemma}

\begin{proof}
Otherwise, there is some $ x \in X^0 \setminus T^0 $. As $ X $ is connected, there is some path $ p $ starting in $ T $, ending in $ x $. As $ x \notin T^0 $, there exists an edge in $ p $ such that $ \alpha\br{e} \in T^0 $ and $ \omega\br{e} \notin T^0 $. But then
$$ T' = \br{T^0 \cup \cbr{\omega\br{e}}, T^1 \cup \cbr{e}} $$
is again a tree, a contradiction.
\end{proof}

Such a tree $ T $ is called a \textbf{spanning tree} for $ X $.

\subsection{Cayley graphs}

\begin{definition}
Let $ G $ be a group and $ X $ a graph. We say that $ G $ \textbf{acts} on $ X $ if and only if it acts on $ X^0 $ and $ X^1 $ as sets, such that
\begin{itemize}
\item $ g \cdot \alpha\br{e} = \alpha\br{g \cdot e} $, and
\item $ g \cdot \overline{e} = \overline{g \cdot e} $.
\end{itemize}
\end{definition}

\begin{note*}
This just means that
$$ \function[\phi_g]{X^0}{X^0}{x}{g \cdot x} $$
is a morphism of graphs for any $ g \in G $.
\end{note*}

\begin{notation*}
$ gh $ is multiplication and $ g \cdot h $ is action.
\end{notation*}

\begin{remark*}
Given $ G $ and $ X $ arbitrary, then $ G $ acts on $ X $ by $ g \cdot x = x $ and $ g \cdot e = e $. Hence we will ask for nice properties of the action.
\end{remark*}

\begin{definition}
Assume $ G $ acts on a graph $ X $. Then we say that $ G $ \textbf{acts without inversion of edges}, if $ g \cdot e \ne \overline{e} $ for all $ e \in X^1 $. We say that $ G $ \textbf{acts freely} on $ X $, if $ g \cdot x = x $ if and only if $ g = e_G $.
\end{definition}

\begin{definition}
Let $ G $ be a group and $ S \subseteq G \setminus \cbr{e_G} $.
\begin{itemize}
\item We say that $ S $ \textbf{generates} $ G $, or $ G $ is \textbf{generated} by $ S $, if there is no proper subgroup of $ G $ containing $ S $. That is, the smallest subgroup $ H $ containing $ S $ equals $ G $.
\item If $ S $ has some property $ P $, then we say that $ G $ is \textbf{$ P $-ly generated}. For example, if $ S $ is finite, then $ G $ is finitely generated.
\item If $ P $ is a property of subgroups, then $ S $ \textbf{$ P $-ly generates} $ G $, if the smallest subgroup of $ G $ containing $ S $ with property $ P $, is already $ G $. For example, if the smallest normal subgroup of $ G $ containing $ S $ is already $ G $, then $ S $ normally generates $ G $.
\end{itemize}
\end{definition}

\begin{example}
$ \br{\ZZ, +} $ is generated by $ \cbr{1} $ or $ \cbr{-1} $ or $ \cbr{-1, 1} $ or $ \cbr{2, 3} $ or $ \ZZ \setminus \cbr{0} $.
\end{example}

\pagebreak

\begin{example}
Let $ G $ be an infinite simple group. Then it is normally generated by any $ g \in G \setminus \cbr{e_G} $. A question is can it be generated by $ g $? No. $ G $ is cyclic and simple if and only if $ G = \ZZ / p\ZZ $ for $ p $ prime. \footnote{Exercise} $ A_\infty $ is an infinite simple group.
\end{example}

\lecture{3}{Wednesday}{09/10/19}

\begin{definition}
Assume $ G $ is a group and $ S \subseteq G \setminus \cbr{e_G} $. Then we define the graph $ \Gamma\br{G, S} $ via
\begin{itemize}
\item the vertex set is $ \Gamma\br{G, S}^0 = G $,
\item the set of positive edges is $ \Gamma\br{G, S}_+^1 = G \times S $,
\item for $ e $ an edge, we have $ \alpha\br{\br{g, s}} = g $ and $ \omega\br{\br{g, s}} = gs $, and
\item the inverse of $ \br{g, s} $ is $ \overline{\br{g, s}} = \br{gs, s^{-1}} $, where
$$ S^{-1} = \cbr{s^{-1} \st s \in S} $$
is a set of new formal symbols. Thus $ \br{g, s^{-1}} \notin G \times S $, even if as elements $ s^{-1} = s' \in S $. If $ s = s^{-1} $, this avoids troubles.
\end{itemize}
We consider $ \Gamma\br{G, S} $ to be a labelled graph, where the label of $ \br{g, s} $ is $ s $.
\end{definition}

\begin{exercise}
\hfill
\begin{itemize}
\item $ \Gamma\br{G, S} $ is connected if and only if $ S $ is a generating set for $ G $.
\item Otherwise set $ H = \abr{S} \subsetneq G $. How does $ H $ relate to $ \Gamma\br{G, S} $?
\end{itemize}
\end{exercise}

\begin{definition}
If $ G $ is a group and $ S \subseteq G \setminus \cbr{e_G} $ generates $ G $, then $ \Gamma\br{G, S} $ is called the \textbf{Cayley graph} of $ G $ with respect to $ S $.
\end{definition}

\begin{exercise}
Given $ S $ a connected graph. Is there a group $ G $ and $ S \subseteq G \setminus \cbr{e_G} $ such that $ X \cong \Gamma\br{G, S} $, where $ S $ is a generating set?
\end{exercise}

\begin{example}
\hfill
\begin{itemize}
\item Recall $ \CCC_n $ and $ \CCC_\infty $. Then
$$ \CCC_n \cong \Gamma\br{\ZZ / n\ZZ, \cbr{1}}, \qquad \CCC_\infty \cong \Gamma\br{\ZZ, \cbr{1}}. $$
\item Careful. Cayley graphs depend heavily on the choice of $ S $. It is not always easy to determine whether it is cyclic. Consider
$$ \Gamma_1 = \Gamma\br{\SSS_3, \cbr{\br{123}, \br{12}}}, \qquad \Gamma_2 = \Gamma\br{\ZZ / 6\ZZ, \cbr{2, 3}}. $$
Then
$$
\begin{array}{ccc}
\begin{tikzpicture}
\fill (0, 0) circle (0.1);
\fill (0, -1) circle (0.1);
\fill (-0.5, -2) circle (0.1);
\fill (0.5, -2) circle (0.1);
\fill (-1.5, -2.5) circle (0.1);
\fill (1.5, -2.5) circle (0.1);
\draw [->] (0, 0) to [bend left=45] node[right]{$ \br{12} $} (0.1, -1);
\draw [->] (0, 0) to [bend right=45] node[left]{$ \br{123} $} (-1.5, -2.4);
\draw [->] (0, -1) to [bend left=45] node[left]{$ \br{12} $} (-0.1, 0);
\draw [->] (0, -1) to [bend left=45] node[right]{$ \br{123} $} (0.5, -1.9);
\draw [->] (-0.5, -2) to [bend left=45] node[left]{$ \br{123} $} (-0.1, -1);
\draw [->] (-0.5, -2) to [bend left=45] node[below]{$ \br{12} $} (-1.4, -2.5);
\draw [->] (0.5, -2) to [bend left=45] node[below]{$ \br{123} $} (-0.5, -2.1);
\draw [->] (0.5, -2) to [bend left=45] node[above]{$ \br{12} $} (1.5, -2.4);
\draw [->] (-1.5, -2.5) to [bend left=45] node[above]{$ \br{12} $} (-0.6, -2);
\draw [->] (-1.5, -2.5) to [bend right=45] node[below]{$ \br{123} $} (1.5, -2.6);
\draw [->] (1.5, -2.5) to [bend right=45] node[right]{$ \br{123} $} (0.1, 0);
\draw [->] (1.5, -2.5) to [bend left=45] node[below]{$ \br{12} $} (0.5, -2.1);
\end{tikzpicture}
& \qquad &
\begin{tikzpicture}
\fill (0, 0) circle (0.1);
\fill (0, -1) circle (0.1);
\fill (-0.5, -2) circle (0.1);
\fill (0.5, -2) circle (0.1);
\fill (-1.5, -2.5) circle (0.1);
\fill (1.5, -2.5) circle (0.1);
\draw [->] (0, 0) to [bend left=45] node[right]{$ 3 $} (0.1, -1);
\draw [->] (0, 0) to [bend left=45] node[right]{$ 2 $} (1.5, -2.4);
\draw [->] (0, -1) to [bend left=45] node[left]{$ 3 $} (-0.1, 0);
\draw [->] (0, -1) to [bend left=45] node[right]{$ 2 $} (0.5, -1.9);
\draw [->] (-0.5, -2) to [bend left=45] node[left]{$ 2 $} (-0.1, -1);
\draw [->] (-0.5, -2) to [bend left=45] node[below]{$ 3 $} (-1.4, -2.5);
\draw [->] (0.5, -2) to [bend left=45] node[below]{$ 2 $} (-0.5, -2.1);
\draw [->] (0.5, -2) to [bend left=45] node[above]{$ 3 $} (1.5, -2.4);
\draw [->] (-1.5, -2.5) to [bend left=45] node[left]{$ 2 $} (-0.1, 0);
\draw [->] (-1.5, -2.5) to [bend left=45] node[above]{$ 3 $} (-0.6, -2);
\draw [->] (1.5, -2.5) to [bend left=45] node[below]{$ 3 $} (0.5, -2.1);
\draw [->] (1.5, -2.5) to [bend left=45] node[below]{$ 2 $} (-1.5, -2.6);
\end{tikzpicture}
\\
\Gamma_1 & & \Gamma_2
\end{array}.
$$
Given $ \Gamma_i $, is the group abelian? A group is abelian if and only if all its generators commute, that is $ ab = ba $. For $ \Gamma_2 $, if $ a = 2 $ and $ b = 3 $, then $ \br{2}\br{3} = \br{3}\br{2} $.
\end{itemize}
\end{example}

\pagebreak

\begin{lemma}
\label{lem:1.2.11}
Every group $ G $ acts on its Cayley graph by left multiplication. The multiplication is free, label-preserving, and without inversion of edges. Furthermore, every $ \phi_g $ is a label-preserving automorphism of $ \Gamma\br{G, S} $.
\end{lemma}

\begin{proof}
Define the action via $ h \cdot g = hg $ for all $ h \in G $ and $ g \in \Gamma\br{G, S}^0 $, and $ h \cdot \br{g, s} = \br{hg, s} $. One checks easily that this defines an action. It is obviously label-preserving and hence without inversion of edges, as positive and negative edges have disjoint label sets. Now, if $ h \cdot g = g $, then $ hg = g $ and this $ h = e_G $. Hence the action is free. Clearly, $ \phi_h $ is injective, as $ \phi_h\br{g_1} = \phi_h\br{g_2} $ if and only if $ hg_1 = hg_2 $ if and only if $ g_1 = g_2 $. For surjectivity, note that $ g = hh^{-1}g $ and hence $ g = h \cdot \br{h^{-1}g} = \phi_h\br{h^{-1}g} $.
\end{proof}

\lecture{4}{Thursday}{10/10/19}

\begin{lemma}
Let $ G $ be some group and $ S \subseteq G \setminus \cbr{e_G} $ a generating set. Denote by $ \Aut_L \Gamma\br{G, S} $ the label-preserving automorphism group of its Cayley graph. Then
$$ G \cong \Aut_L \Gamma\br{G, S}. $$
\end{lemma}

\begin{proof}
By \ref{lem:1.2.11} we know that
$$ \function[\Phi]{G}{\Aut_L \Gamma\br{G, S}}{h}{\phi_h}. $$
One easily checks that this is a group homomorphism. If $ \phi_h = \phi_g $, then in particular they agree on the vertex $ e_G $, that is $ h = \phi_h\br{e_G} = \phi_g\br{e_G} = g $, so $ g = h $ and $ \Phi $ is injective. Now consider $ \phi \in \Aut_L \Gamma\br{G, S} $ arbitrary. We claim that $ \phi = \phi_h $ with $ h = \phi\br{e_G} $. As $ \phi $ is label-preserving and every vertex has exactly one outgoing and one incoming edge with label $ s $, we know that $ \phi\br{\br{g, s}} = \br{\phi\br{g}, s} $. Hence
$$ \phi\br{\omega\br{\br{g, s}}} = \omega\br{\phi\br{\br{g, s}}} = \omega\br{\br{\phi\br{g}, s}} = \phi\br{g}s. $$
As $ \Gamma\br{G, S} $ is connected, we get that two label-preserving automorphisms agree if and only if they agree on one vertex. Now, $ \phi\br{e_G} = h = \phi_h\br{e_G} $, so $ \phi = \phi_h $.
\end{proof}

\begin{example}
The group of all automorphisms of $ \CCC_n $ is called the \textbf{dihedral group} and denoted by $ \DDD_n $. Note that every such automorphism is uniquely determined by its image on $ e_0 $. Hence if we consider $ \alpha\br{e_0} = e_1 $ and $ \beta\br{e_0} = \overline{e_{n - 1}} $, then
$$ \DDD_n = \cbr{a^k, a^kb \st k < n}, \qquad \DDD_\infty = \cbr{a^k, a^kb \st k \in \ZZ}. $$
\end{example}

\begin{exercise}
\hfill
\begin{itemize}
\item Draw the Cayley graphs of $ \DDD_n $ with respect to $ S = \cbr{a, b} $.
\item Prove that $ \DDD_3 \cong \SSS_3 $.
\item Determine the axis of the reflection and the representation $ a^k $ and $ a^kb $ for given $ \phi $ just by using $ \omega\br{\phi\br{e_0}} $ and $ \alpha\br{\phi\br{e_0}} $.
\end{itemize}
\end{exercise}

\subsection{Words and paths}

\begin{note*}
If for some group element $ g $, both $ g = s_1 $ and $ g^{-1} = s_2 $ are in $ S $, then we distinguish the edges $ e_1 = \br{e_G, s_1} $ and $ e_2 = \br{e_G, s_2^{-1}} $ even though $ \alpha\br{e_1} = e_G = \alpha\br{e_2} $ and $ \omega\br{e_1} = s_1 = g = s_2^{-1} = \omega\br{e_2} $.
\end{note*}

\begin{definition}
Let $ S $ be any set. We say that $ w $ is a \textbf{word} on $ S $ if and only if it is a finite sequence of the form
$$ w = s_1^{\epsilon_1} \dots s_n^{\epsilon_n}, \qquad s_i \in S, \qquad \epsilon_i = -1, 1. $$
We call $ S $ an \textbf{alphabet} and elements of $ S $ are \textbf{letters}. If $ S \subseteq G $, then every word in $ S $ considered as a product, defines some group element. We write
$$ w \underset{G}{=} s_1^{\epsilon_1} \dots s_n^{\epsilon_n} \underset{G}{=} g, $$
and we say that $ w $ \textbf{represents} $ G $.
\end{definition}

\begin{example}
Consider $ \ZZ $ with $ S = \cbr{s_0 = -1, s_1 = 1} $. Then $ w_1 = s_0s_1 \ne s_1^{-1}s_1 = w_2 $ but $ w_1 \underset{G}{=} w_2 $.
\end{example}

\pagebreak

\begin{remark}
If $ S $ is a generating set for $ G $, then for every $ g \in G $, every word in $ S $ corresponds to a unique path $ p_w\br{g} $ in the Cayley graph starting at $ g $ and ending at $ gh $, where $ h \underset{G}{=} w $.
\end{remark}

\begin{example}
Let $ \ZZ \times \ZZ $ and $ S = \cbr{a = \br{1, 0}, b = \br{0, 1}} $. Consider
$$ w_1 = aabbab^{-1}, \qquad w_2 = baaa, \qquad w_3 = aba^{-1}a^{-1}. $$
Then $ w_1 \underset{G}{=} w_2 $ and $ w_3 \underset{G}{=} ba^{-1} \underset{G}{=} a^{-1}b $.
\end{example}

\begin{definition}
A word $ w = s_1^{\epsilon_1} \dots s_n^{\epsilon_n} $ on $ S $ is called \textbf{reduced} if and only if $ s_i = s_{i + 1} $ implies that $ \epsilon_i = \epsilon_{i + 1} $.
\end{definition}

Consider $ s \in G $ with $ s^2 = 1 $. Then $ s \underset{G}{=} s^{-1} $ and $ w = ss^{-1} $ is not reduced. But $ w' = ss $ is reduced.

\subsection{Free groups}

\lecture{5}{Tuesday}{15/10/19}

\begin{fact}[Tits alternative]
If $ G $ is an infinite linear group, then either it is virtually solvable, that is there is a finite index subgroup which is solvable, or it contains a non-abelian free group as a subgroup.
\end{fact}

\begin{definition}[Free groups I]
Let $ G $ be a group and $ S \subseteq G \setminus \cbr{e_G} $ be any subset of $ G $. Then $ G $ is called \textbf{free on $ S $}, or a \textbf{free group with basis $ S $}, if and only if every element of $ G $ can be represented uniquely as a reduced word on $ S $.
\end{definition}

\begin{remark*}
This implies that $ S $ generates $ G $.
\end{remark*}

\begin{example*}
Let $ G $ be finite. Then for all $ s \in S $ there exists $ n \in \NN_{> 0} $ such that $ s^n \underset{G}{=} e_G $, so not unique.
\end{example*}

\begin{exercise}[Free groups II]
\label{ex:1.4.3}
A group $ G $ is \textbf{free on $ S \subseteq G $} if and only if $ \Gamma\br{G, S} $ of $ G $ with respect to $ S $ is a tree and $ S \cap S^{-1} = \emptyset $, considered as an intersection in $ G $.
\end{exercise}

\begin{example}
Consider the subgroup $ F \subseteq \SL_2\br{\ZZ} $ generated by
$$ A = \twobytwo{1}{2}{0}{1}, \qquad B = \twobytwo{1}{0}{2}{1}. $$
Then $ F $ is free on $ S = \cbr{A, B} $. First note that
$$ A^n = \twobytwo{1}{2n}{0}{1}, \qquad B^n = \twobytwo{1}{0}{2n}{1}. $$
Clearly, $ F $ acts on $ \RR^2 $. Set
$$ U = \cbr{\br{x, y} \st \abs{x} < \abs{y}}, \qquad V = \cbr{\br{x, y} \st \abs{x} > \abs{y}}. $$
Then
$$ \twobytwo{1}{2n}{0}{1}\twobyone{x}{y} = \twobyone{x + 2ny}{y}, $$
so $ A^n\br{U} \subseteq V $ for all $ n \ge 1 $. Similarly, $ B^n\br{V} \subseteq V $. Assume
$$ w = A^{k_0}B^{l_0} \dots A^{k_{n - 1}}B^{k_{n - 1}}A^{k_n}, \qquad \abs{k_i}, \abs{l_i} > 0, \qquad k_0, l_0, k_n \ge 0 $$
is an arbitrary word on $ S $. Assume $ w \underset{G}{=} e_G = I $. Now, if $ \abs{k_n}, \abs{k_0} > 0 $ then $ w\br{U} \subseteq V $. But $ U \cap V = \emptyset $, a contradiction. Otherwise consider $ w' $, the word which arises by conjugating by a high enough power of $ A $, so $ w' = A^NwA^{-N} $. Then $ w' $ is of the above form. But $ w' \underset{G}{=} e_G $ if and only if $ w \underset{G}{=} e_G $, a contradiction.
\end{example}

\begin{remark*}
This proof generalises to the so-called ping pong lemma, telling when two subgroups $ \abr{A} $ and $ \abr{B} $ appear as a free product $ \abr{A} * \abr{B} $.
\end{remark*}

\lecture{6}{Wednesday}{16/10/19}

Lecture 6 is a problem class.

\pagebreak

\lecture{7}{Thursday}{17/10/19}

\begin{proposition}[Free groups III]
Let $ S $ be an arbitrary non-empty set. Then there is a \textbf{group $ \F\br{S} $ which is free on $ S $}.
\end{proposition}

\begin{proof}
\hfill
\begin{itemize}
\item Set $ S^\pm = \cbr{s^\epsilon \st \epsilon = -1, 1} $. If $ s_1 = s_2^{-1} \in S^\pm $, identify $ s_1^{-1} = \br{s_2^{-1}}^{-1} = s_2 $. Set $ \F'\br{S} $ to be the set of all words on $ S $. As usual, we denote the empty word by $ \epsilon $. Further, for two words $ u_1 $ and $ u_2 $ given by $ u_i = s_{i, 1}^{\epsilon_{i, 1}} \dots s_{i, n_i}^{\epsilon_{i, n_i}} $ let $ u_1u_2 = s_{1, 1}^{\epsilon_{1, 1}} \dots s_{1, n_1}^{\epsilon_{1, n_1}}s_{2, 1}^{\epsilon_{2, 1}} \dots s_{2, n_2}^{\epsilon_{2, n_2}} $. Note that this is not a group, since no inverses.
\item We will define an equivalence relation on $ \F'\br{S} $. Say that $ u \sim v $ if and only if there exists a finite sequence of words such that $ u = u_0, \dots, u_n = v $ and each $ u_{i + 1} $ arises from $ u_i $ by inserting or deleting a subword of the form $ ss^{-1} $ for $ s \in S^\pm $. We say that $ u $ is reduced, if it does not contain a subword $ ss^{-1} $.
\item Claim that every equivalence class contains exactly one reduced word. Assume $ u \sim v $. Then there exists $ u = u_0, \dots, u_n = v $. Choose this sequence such that $ \sum_{i = 0}^n \abs{u_i} $ is minimal, where $ \abs{u_i} $ denotes the word length of $ u_i $. As $ u $ and $ v $ are reduced, we know that $ \abs{u_0} < \abs{u_1} $ and $ \abs{u_n} < \abs{u_{n - 1}} $. Then there exists $ 0 < i < n $ such that $ \abs{u_{i - 1}} < \abs{u_i} $ and $ \abs{u_{i + 1}} < \abs{u_i} $. Say, $ u_i $ arises from $ u_{i - 1} $ by adding $ ss^{-1} $ and $ u_{i + 1} $ from $ u_i $ by deleting $ tt^{-1} $. Now either $ ss^{-1} $ and $ tt^{-1} $ are disjoint in $ u_i $, then replace the sequence $ u_{i - 1}u_iu_{i + 1} $ by $ u_{i - 1}u_i'u_{i + 1} $ where $ u_i' $ arises from $ u_{i - 1} $ by deleting $ tt^{-1} $, or not, then cancelling the subsequence $ u_iu_{i + 1} $ still gives a connecting sequence from $ u $ to $ v $. In both cases we obtain a sequence of smaller length, a contradiction.
\item Denote by $ \sbr{u} $ the class $ u / \sim $. We set $ \sbr{u}\sbr{v} = \sbr{uv} $. This is clearly independent of choice, that is if $ u' \sim u $, then $ u'v \sim uv $. Hence associativity is clear. Also, if $ w = s_1^{\epsilon_1} \dots s_n^{\epsilon_n} $, then $ \sbr{w} = \sbr{s_1^{\epsilon_1}} \dots \sbr{s_n^{\epsilon_n}} $. Hence $ \sbr{S} = \cbr{\sbr{s} \st s \in S} $ generates $ \F\br{S} $. By the claim, every word has a unique reduced representation in $ \sbr{S} $. Hence $ \F\br{S} $ is free on $ \sbr{S} $.
\end{itemize}
\end{proof}

\begin{proposition}[Free groups IV]
\label{prop:1.4.6}
Assume $ F $ is a group and $ S \subseteq F $ is any set. Then $ F $ is a \textbf{free group with basis $ S $} if and only if $ F $ is the universal object in the class of groups with respect to $ S $, that is whenever $ G $ is a group and $ f : S \to G $ is any map, there exists a unique group homomorphism $ \phi : F \to G $ extending $ f $, so
$$
\begin{tikzcd}
S \arrow{r}{f} & G \\
F \arrow{u}{\id} \arrow[dashed, swap]{ur}{\exists !f} &
\end{tikzcd}.
$$
\end{proposition}

\begin{proof}
\hfill
\begin{itemize}
\item[$ \implies $] Assume $ F $ is free on $ S $ and $ f : S \to G $ is any map. We first prove uniqueness of $ \phi $. By definition, for any $ g \in F $ there exists a unique reduced word on $ S $ such that $ w \underset{F}{=} g $, say $ w = s_1^{\epsilon_1} \dots s_n^{\epsilon_n} $. Then, if $ \phi : S \to G $ is a homomorphism of groups extending $ f $, clearly,
$$ \phi\br{g} = f\br{s_1}^{\epsilon_1} \dots f\br{s_n}^{\epsilon_n}. $$
Hence unique. Now for existence we prove that this actually is a homomorphism of groups, that is $ \phi\br{gh} = \phi\br{g}\phi\br{h} $. Let $ w_g \underset{F}{=} g $ and $ w_h \underset{F}{=} h $ be reduced. Then $ w_gw_h \underset{F}{=} gh $, but maybe not reduced. Say $ w_{gh} $ is the reduced word. If $ w_gw_h $ is not reduced, then $ w_g = w_g^1w_g^2 $ and $ w_h = w_h^1w_h^2 $ such that $ w_g^2 = \br{w_h^1}^{-1} $. Then clearly
$$ \phi\br{gh} = f\br{w_g^1w_h^2} = f\br{w_g^1}f\br{w_g^2}f\br{w_h^1}^{-1}f\br{w_h^2} = \phi\br{g}\phi\br{h}. $$
Hence $ \phi $ is indeed a group homomorphism.

\pagebreak

\item[$ \impliedby $] Let $ F $ be any group and $ S \subseteq F $ such that for any group $ G $ and $ f : S \to G $ there exists a unique homomorphism $ \phi : F \to G $ extending $ f $. First, consider $ G_1 = \abr{S} \le F $. Then the map $ f : S \to F $ sending $ S $ to itself extends to some $ \phi : F \to F $ with image $ G_1 $. But also, the homomorphism $ \id_F : F \to F $ is a homomorphism extending $ f $. By uniqueness, $ \phi = \id_F $ whence $ \abr{S} = G_1 = F $. Hence $ S $ generates $ F $. Next, consider $ G = \F\br{S} $ and $ f : S \to \F\br{S} $ the natural embedding from $ S $ into $ \F\br{S} $. We want to show that any element in $ F $ has a unique reduced representation on $ S $. Indeed, assume $ w = s_1^{\epsilon_1} \dots s_n^{\epsilon_n} $ is reduced for $ n > 0 $, but $ w \underset{F}{=} e_F $. Then any homomorphism $ \phi : F \to \F\br{S} $ extending $ f $ has to send $ w_G $ simultaneously to $ e_{\F\br{S}} $ and to $ w_{\F\br{S}} $, hence $ e_{\F\br{S}} \underset{\F\br{S}}{=} w $, a contradiction.
\end{itemize}
\end{proof}

\lecture{8}{Tuesday}{22/10/19}

\begin{remark}
Note that we also proved that $ F $ is free on $ S \subseteq F $ if and only if $ F = \F\br{S} $. Hence, for every set $ S $ there is a unique, up to isomorphism, group $ F $ which is free on $ S $.
\end{remark}

\begin{lemma}
Every group $ G $ is the quotient of some free group.
\end{lemma}

\begin{proof}
Consider $ S \subseteq G $ some generating set of $ G $. Consider the homomorphism $ \phi : \F\br{S} \to G $. By \ref{prop:1.4.6} this exists. As $ S $ generates $ G $, it is surjective. Now by the isomorphism theorem, we have $ G \cong \F\br{S} / \Ker \phi $.
\end{proof}

\begin{remark}
\label{rem:1.4.9}
Let $ G $ be any group and $ S \subseteq G $ a generating set. Then if $ S $ is infinite then $ \abs{S} = \abs{G} $. Why? Note that $ \abs{\PPP^{\fin}\br{S}} = \abs{S} $ for all infinite sets $ S $, in ZF. As every element corresponds to a finite sequence in $ S $, we get
$$ \abs{S} \le \abs{G} \le \abs{\PPP^{\fin}\br{S}} = \abs{S}. $$
\end{remark}

\begin{definition}
Let $ G $ be an arbitrary group. The \textbf{rank} of $ G $ is the smallest cardinal $ \kappa $ such that $ G $ arises as the quotient of a free group of rank $ \kappa $. By \ref{rem:1.4.9} this is well-defined. We denote it by $ \rk G $.
\end{definition}

\begin{lemma}
Let $ S $ and $ S' $ be any sets. Then $ \F\br{S} \cong \F\br{S'} $ if and only if $ \abs{S} = \abs{S'} $.
\end{lemma}

\begin{proof}
\hfill
\begin{itemize}
\item[$ \implies $] If $ \abs{S} = \abs{S'} $, then there exists a bijection $ f : S \to S' $. Let $ \phi : \F\br{S} \to \F\br{S'} $ be the unique homomorphism extending $ f $, and $ \psi : \F\br{S'} \to \F\br{S} $ the unique homomorphism extending $ f^{-1} $. Then $ \psi \circ \phi : \F\br{S} \to \F\br{S} $ extends $ \id_S : S \to \F\br{S} $. But clearly $ \id_{\F\br{S}} : \F\br{S} \to \F\br{S} $ is another such homomorphism, whence by uniqueness $ \psi \circ \phi = \id_{\F\br{S}} $, whence $ \phi $ is an isomorphism.
\item[$ \impliedby $] Assume $ \F\br{S} \cong \F\br{S'} $. If both $ S $ and $ S' $ are infinite, then
$$ \abs{S} = \abs{\F\br{S}} = \abs{\F\br{S'}} = \abs{S'}, $$
by \ref{rem:1.4.9}. Otherwise assume $ S $ is finite. Set $ G = \ZZ / 2\ZZ $. Recall that any homomorphism from $ \F\br{S} $ to $ G $ is uniquely determined by its image on $ S $. Hence, there is a one to one correspondence between the set of homomorphisms $ \phi : \F\br{S} \to G $ and $ \PPP\br{S} $, via
$$ \phi \mapsto X_\phi = \cbr{s \in S \st \phi\br{s} = 1}. $$
Note, as $ \F\br{S} \cong \F\br{S'} $, there are as many homomorphisms from $ \F\br{S} \to G $ as from $ \F\br{S'} \to G $. Hence
$$ 2^{\abs{S}} = \abs{\Hom\br{\F\br{S}, G}} = \abs{\Hom\br{\F\br{S'}, G}} = 2^{\abs{S'}}, $$
and as $ S $ was finite, $ \abs{S} = \abs{S'} $.
\end{itemize}
\end{proof}

\begin{definition}
If $ G $ is free on $ S $, we call $ \abs{S} $ the \textbf{rank} of $ G $ and say that $ S $ is a basis of $ G $.
\end{definition}

\pagebreak

\subsection{Presentations of groups}

\begin{definition}
Let $ G $ be any group and $ S \subseteq G $ a subset for $ G $. Recall that $ f : S \hookrightarrow G $. Let $ R $ be a set of words over $ S $. We say that $ G $ \textbf{allows the presentation} $ \abr{S \st R} $ if and only if $ S $ generates $ G $ and $ R $ normally generates $ \Ker \phi $. For brevity we write
$$ G = \abr{S \st R}. $$
We call the elements in $ G $ \textbf{generators} of $ G $ and the elements in $ R $ \textbf{relators}.
\end{definition}

\lecture{9}{Wednesday}{23/10/19}

\begin{notation*}
$ \abr{R}^{\F\br{S}} $ denotes the subgroup of $ \F\br{S} $ normally generated by $ R $, so
$$ G \cong \F\br{S} / \abr{R}^{\F\br{S}}. $$
Generally if $ G $ is a group and $ X \subseteq G $ is a subset, then $ \abr{X}^G $ denotes the subgroup normally generated by $ X $.
\end{notation*}

\begin{note*}
Elements of $ R $ are called relators and identities in $ G $ are called \textbf{relations}. Every relator $ r $ codes a relation $ r \underset{G}{=} e_G $.
\end{note*}

\begin{example*}
In $ S = \cbr{a, b} $, $ ab^2a^{-1} $ is a relator and $ ab^2 \underset{G}{=} $ is a relation, and $ ab^2a^{-1} \underset{G}{=} e_G $ if and only if $ ab^2 \underset{G}{=} a $.
\end{example*}

\begin{remark}[Free groups V]
A group $ F $ is \textbf{free on $ S $} if and only if it allows the presentation $ \abr{S \st} $.
\end{remark}

\begin{exercise}
\label{ex:1.5.3}
\hfill
\begin{enumerate}
\item Show that for $ r \in \abr{R}^{\F\br{S}} $ and $ g, h \in \F\br{S} $ is arbitrary, then $ grh \in \abr{R}^{\F\br{S}} $ if and only if $ gh \in \abr{R}^{\F\br{S}} $.
\item Show that $ g \in \F\br{S} $ is in $ \abr{R}^{\F\br{S}} $ if and only if it is of the form
$$ g = \prod_{i = 1}^n u_ir_iu_i^{-1}, \qquad r_i \in R, \qquad u_i \in \F\br{S}. $$
\end{enumerate}
\end{exercise}

\begin{definition}
Let $ G = \abr{S \st R} $. Then we call $ G $ \textbf{finitely presented} if both $ S $ and $ R $ are finite.
\end{definition}

\begin{example}
Claim that the group $ \SSS_3 $ allows the presentation
$$ \abr{x, y \st x^2, y^2, \br{xy}^3}. $$
Let
$$ \function[\phi]{\F\br{\cbr{x, y}}}{\SSS_3}{\br{x, y}}{\br{\br{12}, \br{23}}}. $$
Clearly
$$ \phi\br{x^2} = \br{12}^2 = e_{\SSS_3} = \br{23}^2 = \phi\br{y^2}. $$
Also, $ xy = \br{132} $ and hence
$$ \phi\br{\br{xy}^3} = \br{132}^3 = e_{\SSS_3}, $$
hence $ \br{xy}^3 \in \Ker \phi $. Thus, by \ref{ex:1.5.3}.$ 2 $ and as $ \phi $ is a homomorphism, we get
$$ \abr{\cbr{x^2, y^2, \br{xy}^3}}^{\F\br{S}} \subseteq \Ker \phi. $$
Now assume $ w = x^{k_1}y^{l_1} \dots x^{k_n}y^{l_n} $ on $ \cbr{x, y} $ such that $ w \underset{\SSS_3}{=} e_{\SSS_3} $, that is $ w \in \Ker \phi $. By \ref{ex:1.5.3}.$ 1 $, we can cancel all occurences of $ x^{\pm 2}y^{\pm 2} $. We obtain $ w' = xyxy \dots $ such that $ w' \underset{\SSS_3}{=} e_{\SSS_3} $ if and only if $ w' \underset{\SSS_3}{=} e_{\SSS_3} $. Now cancel $ \br{xy}^3 $ and obtain a word of length at most six. Now, note the relator $ \br{xy}^3 $ yields the relation $ xyx \underset{\SSS_3}{=} yxy $. Hence the only words left are of length at most three, that is
$$ \epsilon, x, y, xy, yx, xyx = yxy. $$
Hence, $ w $ is in $ \abr{R}^{\F\br{S}} $.
\end{example}

\begin{exercise}
For any set $ S $ and $ R $ a set of words on $ S $, there exists some $ G $ with $ G = \abr{R \st S} $.
\end{exercise}

\pagebreak

\begin{remark}
\label{rem:1.5.7}
Let $ G $ be a group and $ S \subseteq G $, and let $ R $ be a set of words on $ S $. Then the following are equivalent.
\begin{enumerate}
\item $ G = \abr{S \st R} $.
\item A word $ w $ on $ S $ represents $ e_G $ in $ G $ if and only if $ w \in \abr{R}^{\F\br{S}} $.
\end{enumerate}
\end{remark}

\begin{proposition}
Let $ H $ be a group and $ S \subseteq H $, and $ R \subseteq \F\br{S} $. Then the following are equivalent.
\begin{itemize}
\item $ H = \abr{S \st R} $.
\item For any group $ G $ and $ f : S \to G $, there exists a homomorphism $ \phi : H \to G $ extending $ f $ if and only if $ f\br{r} = e_G $, with if $ r = s_1^{\epsilon_1} \dots s_n^{\epsilon_n} $ then $ f\br{r} = f\br{s_1}^{\epsilon_1} \dots f\br{s_n}^{\epsilon_n} $. In that case, $ \phi $ is unique.
\end{itemize}
\end{proposition}

\begin{proof}
\hfill
\begin{itemize}
\item[$ \implies $] Assume $ H = \abr{S \st R} $ and $ f : S \to G $. Clearly, as $ S $ generates $ H $, any homomorphism $ \phi : H \to G $ extending $ f $ has to send $ h = s_1^{\epsilon_1} \dots s_n^{\epsilon_n} $ to $ f\br{s_1}^{\epsilon_1} \dots f\br{s_n}^{\epsilon_n} $. Hence $ \phi $ is uniquely determined, if it exists. Now, assume that $ \phi $ is a well-defined homomorphism of groups. By \ref{rem:1.5.7}, that $ r \underset{H}{=} e_H $ for any $ r \in R $, whence $ \phi\br{r} = e_G = f\br{r} $. Now assume $ f\br{r} = e_G $ for all $ r \in R $. We want to show that $ \phi $ is well-defined, that is if $ w_1 \underset{H}{=} w_2 $, then $ \phi\br{w_1} \underset{G}{=} \phi\br{w_2} $. Clearly, this amounts to say that any word $ w_1w_2^{-1} $ which represents $ e_H $ is sent to $ e_G $. By \ref{rem:1.5.7}.$ 2 $, $ w $ represents $ e_H $ if and only if $ w \in \abr{R}^{\F\br{S}} $. By assumption $ \phi\br{R} = \cbr{e_G} $ and \ref{ex:1.5.3}.$ 2 $, the claim follows.
\item[$ \impliedby $] Exercise. \footnote{Exercise}
\end{itemize}
\end{proof}

\lecture{10}{Thursday}{24/10/19}

\begin{remark}
We defined $ G = \abr{S \st R} $ through some $ \phi : \F\br{S} \to G $. Note that $ \phi $ and $ R $ do not determine each other uniquely.
\end{remark}

\begin{example*}
\hfill
\begin{itemize}
\item Consider
$$ G = \abr{x \st x^3} = \ZZ_3, $$
and
$$ \function[\phi_1]{\F\br{\cbr{x}}}{G}{x}{1}, \qquad \function[\phi_1]{\F\br{\cbr{x}}}{G}{x}{2}. $$
\item Consider
$$ G = \abr{x, y \st x^2, y^2, \br{xy}^3} = \SSS_3, $$
as we saw, given by
$$ \function[\phi_1]{\F\br{\cbr{x, y}}}{G}{\br{x, y}}{\br{\br{12}, \br{23}}}. $$
An easy calculation shows that
$$ \SSS_3 = \abr{x, y \st x^2, \br{xy}^3, x^{-1}y^{-1}\br{xy}^2}, $$
via the same homomorphism $ \phi $.
\end{itemize}
\end{example*}

It is hard to read even basic algebraic properties from a presentation, such as whether or not a group is finite.

\begin{example*}
$$ \SSS_3 = \abr{x, y \st x^2, y^2, \br{xy}^3}, \ \AAA_4 = \abr{x, y \st x^3, y^3, \br{xy}^2} \ \text{are finite}, \qquad G = \abr{x, y \st x^3, y^3, \br{xy}^3} \ \text{is infinite}. $$
\end{example*}

\pagebreak

\begin{remark}
More generally, a group in which every element has finite order is called \textbf{periodic}. Burnside asked, in 1902, whether every finitely generated periodic group is finite. This generalises to the following. Let $ S $ be any set and let $ w\br{S} $ denote the set of all words on $ S $. Define the groups
$$ \B\br{m, n} = \abr{x_1, \dots, x_m \st w\br{\cbr{x_1, \dots, x_m}}^n}. $$
They are called \textbf{free Burnside groups}. Are the $ \B\br{m, n} $ finite?
\begin{itemize}
\item Burnside proved for $ n = 2, 3 $.
\item Sanov proved in 1940 for $ n = 4 $.
\item Hall proved in 1958 for $ n = 6 $.
\item Novikov and Adian disproved in 1968 for $ m \ge 2 $ and $ n \ge 667 $ odd.
\item $ \B\br{2, 5} = \abr{x, y \st w\br{x, y}^5} $ is open.
\end{itemize}
\end{remark}

\begin{exercise}
Show that all $ \B\br{1, n} $ and $ \B\br{m, n} $ are finite.
\end{exercise}

Why bother? Most groups simply just come through their presentation and problems on groups, such as isomorphism problems and word problems, are best expressed through presentations. A very important class of groups are Coxeter groups. A group $ G $ is \textbf{Coxeter}, if
$$ G = \abr{s_1, \dots, s_n \st s_i^2, \br{s_is_j}^{m_{ij}}, i, j = 1, \dots, n}, \qquad 1 \le m_{ij} \le \infty. $$

\subsection{Group actions on graphs}

Recall the definition of a group acting on a graph. Many statements in Bass-Serre theory start with the assumption that $ G $ acts on $ X $ without inversion of edges.

\begin{definition}
Let $ X $ be a graph. We define its \textbf{barycentric subdivision} $ \BBB\br{X} $ via
\begin{itemize}
\item $ \BBB\br{X}^0 = \cbr{v_e \st e \in X^1} $,
\item $ \BBB\br{X}^1 = \cbr{e_1, e_2 \st e \in X^0} $ such that
$$ \alpha\br{e_1} = \alpha\br{e}, \qquad \omega\br{e_1} = \alpha\br{e_2} = v_e, \qquad \omega\br{e_2} = \omega\br{e}, $$
\item $ \overline{e_1} = \br{\overline{e}}_2 $.
\end{itemize}
\end{definition}

Now, if $ G $ acts on $ X $, we can naturally extend the action via
$$ g \cdot v_e = v_{ge}, \qquad g \cdot e_1 = \br{ge}_1, \qquad g \cdot e_2 = \br{ge}_2. $$

\begin{note*}
The action did not change on $ X^0 $.
\end{note*}

\begin{exercise}
If $ G $ acts on $ X $, then it acts as above on $ \BBB\br{X} $ and this action is without inversion of edges.
\end{exercise}

\subsubsection{Automorphisms of trees}

\begin{definition}
Let $ X $ be a tree. A reduced path is called a \textbf{geodesic}. For $ x, y \in X $, we denote the unique geodesic from $ x $ to $ y $ by $ \sbr{x - y} $. Its length is called the \textbf{distance} between $ x $ and $ y $ and denoted by $ \d\br{x, y} $.
\end{definition}

\begin{note*}
$ \d $ defines a distance function and if $ \sigma \in \Aut X $, then it acts on $ X $ as an isometry.
\end{note*}

\begin{note*}
Further, for $ X_1, X_2 \subseteq X $ disjoint subtrees of $ X $, there is a unique geodesic which starts in $ X_1 $, ends in $ X_2 $, and with all edges outside $ X_1^1 \cup X_2^1 $. We denote this by $ X_1 - X_2 $, and its length by $ \d\br{X_1, X_2} $.
\end{note*}

\pagebreak

\begin{definition}
Let $ X $ be a tree and $ \sigma \in \Aut X $. Then we set
$$ \abs{\sigma} = \min\cbr{\d\br{x, \sigma\br{x}} \st x \in X^0}, $$
and call it the \textbf{displacement length} of $ \sigma $. Let
$$ \widetilde{\sigma_{\min}} = \cbr{x \in X^0 \st \d\br{x, \sigma\br{x}} = \abs{\sigma}}. $$
Then $ \sigma_{\min} $ is the induced subgraph on $ \widetilde{\sigma_{\min}} $. If $ \abs{\sigma} = 0 $, we write $ \sigma_{\min} = \mathring{\sigma} $, and if $ \abs{\sigma} > 0 $, we write $ \sigma_{\min} = \vec{\sigma} $.
\end{definition}

\lecture{11}{Tuesday}{29/10/19}

\begin{definition}
If $ X $ is a tree and $ G $ acting without inversion of edges as a group of automorphisms, we say that $ X $ is a \textbf{$ G $-tree}.
\end{definition}

\begin{proposition}
Let $ X $ be a $ G $-tree, and $ \sigma \in G $.
\begin{enumerate}
\item If $ \abs{\sigma} = 0 $, then $ \mathring{\sigma} $ is a tree. Furthermore, if $ y \in X^0 $, then let $ x $ be the final vertex of $ \sbr{y - \mathring{\sigma}} $. Then
$$ \d\br{y, \sigma\br{y}} = 2\d\br{y, x}, \qquad \sbr{y - \sigma\br{y}} = \sbr{y - x} \cup \sbr{x - \sigma\br{y}}. $$
\item Assume $ \abs{\sigma} > 0 $. Then $ \vec{\sigma} \cong \CCC_\infty $ and $ \sigma $ acts on $ \vec{\sigma} $ by translation of length $ \abs{\sigma} $. If $ y \in X^0 $ is arbitrary and $ x $ is the terminal vertex of $ \sbr{y - \vec{\sigma}} $, then
$$ \d\br{y, \sigma\br{y}} = 2\d\br{y, x} + \abs{\sigma}, \qquad \sbr{y - \sigma\br{y}} = \sbr{y - x} \cup \sbr{x - \sigma\br{x}} \cup \sbr{\sigma\br{x} - \sigma\br{y}}. $$
\end{enumerate}
\end{proposition}

\begin{proof}
\hfill
\begin{enumerate}
\item Let $ \abs{\sigma} = 0 $. Clearly, $ \mathring{\sigma} $ is a tree as for $ x $ and $ y $ fixed by $ \sigma $, clearly $ \sbr{x - y} $ has to be fixed by $ \sigma $, whence $ \sbr{x - y} \in \mathring{\sigma} $. Consider $ y \in X^0 $ arbitrary and $ x $ as described. We prove the statement by induction on $ \d\br{y, \mathring{\sigma}} $. Clearly, if $ \d\br{y, \mathring{\sigma}} = 0 $, then $ y \in \mathring{\sigma} $, and the statement holds, as all geodesics are the empty path. Now $ \d\br{y, \mathring{\sigma}} = n + 1 $. Let $ z $ be the terminal vertex of the first edge in $ \sbr{y - x} $. Then $ \d\br{z, \mathring{\sigma}} = \d\br{z, x} = n $, whence $ \sbr{z - \sigma\br{z}} = \sbr{z - x} \cup \sbr{x - \sigma\br{z}} $. Now $ \sigma\br{z} $ is a neighbour of $ \sigma\br{y} $. Then either $ \sigma\br{y} \notin \sbr{x - \sigma\br{z}} $, then we are done, as $ \d\br{y, \sigma\br{y}} = \d\br{y, z} + \d\br{z, \sigma\br{z}} + \d\br{\sigma\br{z}, \sigma\br{y}} = 2\br{n + 1} = 2\d\br{y, x} $. Otherwise, $ \d\br{\sigma\br{y}, x} = n - 1 $. Clearly, $ \abs{\sigma^{-1}} = 0 $ and $ \mathring{\sigma^{-1}} = \mathring{\sigma} $. Then $ \d\br{\sigma\br{y}, x} = n - 1 < n + 1 = \d\br{x, y} = \d\br{\sigma^{-1}\br{\sigma\br{y}}, x} $. Hence $ \d\br{\sigma\br{y}, \sigma^{-1}\br{\sigma\br{y}}} = 2n > 2\d\br{\sigma\br{y}, x} $, a contradiction.
\item Consider $ x \in \vec{\sigma} $. We want to show that $ \sbr{x - \sigma^2\br{x}} = \sbr{x - \sigma\br{x}} \cup \sbr{\sigma\br{x} - \sigma^2\br{x}} $. Assume for a contradiction that the terminal edge of $ \sbr{x - \sigma\br{x}} $, call it $ e $, is the first edge inverse of $ \sbr{\sigma\br{x} - \sigma^2\br{x}} $. Let $ z $ be the terminal vertex of the first edge in $ \sbr{x - \sigma\br{x}} $. Then clearly, $ \sigma\br{z} $ is the terminal vertex of the first edge in $ \sbr{\sigma\br{x} - \sigma^2\br{x}} $. By assumption, this is the initial vertex of $ e $. But then $ \d\br{z, \sigma\br{z}} = \d\br{x, \sigma\br{x}} - 2 < \abs{\sigma} $, a contradiction. Note that if $ \d\br{x, \sigma\br{x}} = 1 $, then $ \sigma $ would invert the edge $ e $, a contradiction. Hence $ \sbr{x - \sigma^2\br{x}} = \sbr{x - \sigma\br{x}} \cup \sbr{\sigma\br{x} - \sigma^2\br{x}} $. Inductively, this produces a tree
$$ T = \dots - \sigma^{-1}\br{x} - x - \sigma\br{x} - \dots \subseteq \vec{\sigma}, $$
and $ \sigma $ acts on $ T $ by translation with length $ \abs{\sigma} $. Now consider $ y \in X^0 \setminus T^0 $. Note that $ \sigma \in \Aut T $. Thus $ \sbr{\sigma\br{x} - \sigma\br{y}} $ intersects $ T $ trivially. Hence, $ \d\br{y, \sigma\br{y}} = \d\br{y, x} + \d\br{x, \sigma\br{x}} + \d\br{\sigma\br{x}, \sigma\br{y}} = \d\br{y, x} + \abs{\sigma} + \d\br{x, y} = 2\d\br{x, y} + \abs{\sigma} > \abs{\sigma} $, for all $ y \notin T $. Hence $ T = \vec{\sigma} \cong \CCC_\infty $.
\end{enumerate}
\end{proof}

\begin{definition}
Let $ X $ be a $ G $-tree and $ \sigma \in G $. Then
\begin{itemize}
\item if $ \abs{\sigma} = 0 $, then $ \sigma $ is called an \textbf{elliptic element}, and
\item if $ \abs{\sigma} > 0 $, then $ \sigma $ is called a \textbf{hyperbolic element}.
\end{itemize}
\end{definition}

\begin{remark}
If $ G $ does invert an edge, it resembles more a rotation. Indeed, the extended action on $ \BBB\br{X} $ yields that $ \sigma $ is elliptic.
\end{remark}

\lecture{12}{Wednesday}{30/10/19}

Lecture 12 is a problem class.

\pagebreak

\lecture{13}{Thursday}{31/10/19}

\begin{lemma}
Let $ X $ be a $ G $-tree with trivial edge stabilisers, that is for all $ e \in X^1 $ and $ g \in G $ such that $ g \cdot e = e $, then $ g = \id_G $. If $ g, h \in G $ are hyperbolic such that $ \abs{\vec{g}^0 \cap \vec{h}^0} \ge \abs{h} + \abs{g} + 2 $, then $ g $ and $ h $ commute.
\end{lemma}

\begin{proof}
First note that $ h^{-1} $ also is hyperbolic with $ \abs{h} = \abs{h^{-1}} $ and $ \vec{h^{-1}} = \vec{h} $, only that $ h^{-1} $ moves the elements on $ \vec{h} $ in the inverse direction. As $ g $ and $ h $ commute if and only if $ g $ and $ h^{-1} $ commute, we may assume that they translate the elements of $ L = \vec{g} \cap \vec{h} $ in the same direction. Let $ L^0 = \cbr{x_i \st k < i < j} $ with $ -\infty \le k < j \le \infty $. By assumption $ \br{j - 1} - k \ge \abs{g} + \abs{h} + 2 $, thus there is some $ i > k $ such that $ i + \abs{g} + \abs{h} + 1 < j $. Thus consider $ g^{-1}h^{-1}gh $, then
$$ g^{-1}h^{-1}gh\br{x_i} = g^{-1}h^{-1}g\br{x_{i + \abs{h}}} = g^{-1}h^{-1}\br{x_{i + \abs{g} + \abs{h}}} = g^{-1}\br{x_{i + \abs{g}}} = x_i. $$
Similarly, $ g^{-1}h^{-1}gh\br{x_{i + 1}} = g^{-1}h^{-1}\br{x_{i + \abs{g} + \abs{h} + 1}} = x_{i + 1} $. Hence $ g^{-1}h^{-1}gh $ fixes $ e $ with $ \alpha\br{e} = x_i $ and $ \omega\br{e} = x_{i + 1} $, where $ g^{-1}h^{-1}gh = e_G $, if and only if $ gh = hg $.
\end{proof}

\begin{exercise}
Let $ X $ be a $ G $-tree.
\begin{itemize}
\item If $ x \in X^0 $ and $ g \in G $ such that $ \d\br{x, g^2 \cdot x} = 2\d\br{x, g \cdot x} > 0 $, then $ g $ is hyperbolic and $ x \in \vec{g} $.
\item If $ g \in G $ is elliptic, and $ h \in G $ is arbitrary, then $ g^h = hgh^{-1} $ is elliptic with $ \mathring{g^h} = h\mathring{g} $.
\item If $ g \in G $ is hyperbolic, and $ h \in G $ is arbitrary, then $ g^h = hgh^{-1} $ is hyperbolic with $ \vec{g^h} = h\vec{g} $ and $ \abs{g} = \abs{g^h} $.
\end{itemize}
\end{exercise}

\begin{proposition}
Let $ X $ be a $ G $-tree.
\begin{itemize}
\item If $ g $ and $ h $ are elliptic with $ \mathring{g} \cap \mathring{h} = \emptyset $, then $ gh $ is hyperbolic with $ \abs{gh} = 2\d\br{\mathring{g}, \mathring{h}} $. Furthermore, $ \vec{gh} $ intersects $ \mathring{g} $ and $ \mathring{h} $ non-trivially.
\item If $ g $ and $ h $ are hyperbolic with $ \vec{g} \cap \vec{h} = \emptyset $, then $ gh $ is hyperbolic with $ \abs{gh} = \abs{g} + \abs{h} + 2\d\br{\vec{g}, \vec{h}} $.
\end{itemize}
\end{proposition}

\subsubsection{Nielson-Schreier theorem}

Recall that $ F $ is free of basis $ S $ if and only if $ S \cap S^{-1} = \emptyset $ and $ \Gamma\br{F, S} $ is a tree. Also, we know that $ F $ acts freely on $ \Gamma\br{F, S} $. Hence, every free group acts freely on a tree. We want to prove the inverse, that every group acting freely on a tree is free. Then we deduce that subgroups of free groups are free.

\begin{definition}
Let $ X $ be a graph and $ G $ a group acting on $ X $. For $ x \in X^0 \cup X^1 $ we denote by $ \OOO\br{x} $ the orbit of $ x $ under $ G $, that is $ \OOO\br{x} = \cbr{g \cdot x \st g \in G} $. Then we define the \textbf{factor graph} $ G \backslash X $ via
\begin{itemize}
\item $ \br{G \backslash X}^i = \cbr{\OOO\br{x} \st x \in X^i} $ for $ i = 0, 1 $,
\item $ \alpha\br{\OOO\br{e}} = \OOO\br{\alpha\br{e}} $ for $ e \in X^1 $, and
\item $ \overline{\OOO\br{e}} = \OOO\br{\overline{e}} $ for $ e \in X^1 $.
\end{itemize}
\end{definition}

\lecture{14}{Tuesday}{05/11/19}

\begin{remark}
From now on we do not identify edges through their initial and terminal vertex any longer. In particular we can include $ \CCC_2 $ in the class of circuits where $ \CCC_2^0 = \cbr{0, 1} $ and $ \CCC_2^1 = \cbr{e_0, \overline{e_0}, e_1, \overline{e_1}} $, so $ \CCC_2 $ is
$$
\begin{tikzpicture}
\fill (0, 0) circle (0.1) node[left]{$ 0 $};
\fill (1, 0) circle (0.1) node[right]{$ 1 $};
\draw [->] (0, 0) to [bend left=90] node[above]{$ e_0 $} (1, 0.1);
\draw [->] (1, 0) to [bend left=90] node[below]{$ e_1 $} (0, -0.1);
\end{tikzpicture}.
$$
Hence a tree is a connected graph without any $ \CCC_n $ for $ n \in \NN $. Now \ref{ex:1.4.3} changes to $ G $ is free on $ S $ if and only if $ \Gamma\br{G, S} $ is a tree.
\end{remark}

\pagebreak

\begin{example}
Consider the graph
$$
\begin{array}{c}
\begin{tikzpicture}
\fill (0, 0) circle (0.1) node[below]{$ x_0 $};
\fill (0, 1) circle (0.1);
\fill (-0.9, -0.5) circle (0.1);
\fill (0.9, -0.5) circle (0.1);
\draw [->] (0, 0) to (0, 0.9);
\draw [->] (0, 0) to (-0.8, -0.5);
\draw [->] (0, 0) to (0.8, -0.5);
\draw (0, 0) circle (1);
\end{tikzpicture}
\\
X
\end{array}.
$$
Let $ G_1 = \cbr{\id} $, $ G_2 = \ZZ_3 $, and $ G_3 = \SSS_4 $ acting on $ X $, where $ \ZZ_3 \curvearrowright X $ fixing $ x_0 $. Then
$$
\begin{tikzpicture}
\draw (-0.5, 0) node[left]{$ G_1 \backslash X \cong X, \qquad G_2 \backslash X \cong $};
\fill (0, 0) circle (0.1) node[below]{$ \OOO\br{x_0} $};
\fill (1, 0) circle (0.1) node[below]{$ \OOO\br{y} $};
\draw [->] (0, 0) to (0.9, 0);
\draw [->] (1, 0) arc (270:-80:0.5);
\draw (1.5, 0) node[right]{$, \qquad G_3 \backslash X \cong \CCC_1 $};
\end{tikzpicture}.
$$
\end{example}

\begin{example}
Let $ F $ be a free group on $ S $. Then if $ \abs{S} = n $,
$$
\begin{tikzpicture}
\draw (-1.5, 0) node[left]{$ F \backslash \Gamma\br{F, S} \cong $};
\fill (0, 0) circle (0.1);
\draw (0, 0) to [bend left=60] (0, 1) node[above]{$ s_1 $};
\draw [->] (0, 1) to [bend left=60] (0, 0.1);
\draw [dashed] (0.2, 0.5) arc (90:-180:0.7);
\draw (0, 0) to [bend left=60] (-1, 0) node[left]{$ s_n $};
\draw [->] (-1, 0) to [bend left=60] (-0.1, 0);
\end{tikzpicture},
$$
a rose with $ n $ petals.
\end{example}

\begin{lemma}
The factor graph $ G \backslash X $ is well-defined.
\end{lemma}

\begin{proof}
Note $ \OOO\br{x} = \OOO\br{x'} $ if and only if $ x \in \OOO\br{x} $. Consider $ e' \in \OOO\br{e} $, that is there exists $ g \in G $ such that $ e' = g \cdot e $. Want to show that $ \alpha\br{e'} \in \OOO\br{\alpha\br{e}} $ and $ \overline{e'} \in \OOO\br{\overline{e}} $. Recall that group actions give rise to graph homomorphisms, whence $ \alpha\br{e'} = \alpha\br{g \cdot e} = g \cdot \alpha\br{e} \in \OOO\br{\alpha\br{e}} $. Same for $ \overline{e'} = \overline{g \cdot e} = g \cdot \overline{e} \in \OOO\br{\overline{e}} $.
\end{proof}

\begin{definition}
We call the map
$$ \function[\p]{X}{G \backslash X}{x}{\OOO\br{x}} $$
a \textbf{projection}, and if $ y \in G \backslash X $, then any $ x \in X $ with $ \p\br{x} = y $ is called a \textbf{lift} of $ y $.
\end{definition}

\begin{proposition}
\label{prop:1.6.18}
If $ T' $ is a tree in $ G \backslash X $, then there is some tree $ T \subseteq X $ such that $ \eval{\p}_T : T \to T' $ is an isomorphism. Then $ T $ is called a lift of $ T' $.
\end{proposition}

\begin{proof}
First note that for any $ f \in \br{G \backslash X}^1 $ and $ x \in \OOO\br{\alpha\br{f}} $, then there is some $ e \in X^1 $ such that $ \p\br{e} = f $ and $ \alpha\br{e} = x $. Denote by $ \TTT $ the set of all subtrees of $ X $ which project injectively into $ T' $. Note that for $ T' \ne \emptyset $ the set $ \TTT \ne \emptyset $ as any lift of any vertex in $ T' $ is in $ \TTT $. We can partially order $ \TTT $ by inclusion. Then every chain in $ \TTT $ has a maximal element, being the union. So, by Zorn's lemma, we obtain a maximal element $ T $. We claim that $ T \cong T' $. Otherwise, there was some $ f \in T' $ such that $ \alpha\br{f} \in \p\br{T} $ and $ \omega\br{f} \notin \p\br{T} $. Now let $ x = \p^{-1}\br{\alpha\br{f}} $. By the above, there exists $ e \in X^1 $ such that $ \alpha\br{e} = x $ and $ \p\br{e} = f $. But then $ T \cup \cbr{e, \omega\br{e}} $ is still a tree mapped injectively to $ T' $, a contradiction.
\end{proof}

\begin{theorem}[Free group VI]
\label{thm:1.6.19}
A group $ G $ is free if and only if it acts freely and without inversion of edges on a tree.
\end{theorem}

\begin{theorem}[Nielson-Schreier theorem]
A subgroup of a free group is free.
\end{theorem}

\begin{proof}
Let $ G $ be free on $ S $ and $ H \le G $. Then $ \Gamma\br{G, S} $ is a tree and $ G  $ acts on it freely without inversion of edges. Now clearly restricting the action to $ H $ yields that $ H $ acts freely on some tree. Hence $ H $ is free.
\end{proof}

\pagebreak

\begin{exercise}
Assume $ G $ acts freely on a tree $ X $, without inversion of edges. Set $ Y = G \backslash X $. If $ Y $ is finite, then
$$ \rk G = \abs{Y_+^1} - \abs{Y^0} + 1. $$
\end{exercise}

\begin{lemma}
If $ G $ is a free group of finite rank, and $ H \le G $ of index $ n $, then
$$ \rk H - 1 = n\br{\rk G - 1}. $$
\end{lemma}

\begin{proof}
Let $ \Gamma\br{G, S} $ be the Cayley graph. Then $ H $ acts on it via $ h : g \mapsto gh $ and $ h : \br{g, s} \mapsto \br{gh, s} $. Then
$$ \br{H \backslash \Gamma\br{G, S}}^0 = \cbr{gH \st g \in G} = G / H, \qquad \br{H \backslash \Gamma\br{G, S}}_+^1 = G / H \times S. $$
Hence, $ \rk H = n\rk G - n + 1 $.
\end{proof}

\lecture{15}{Wednesday}{06/11/19}

\begin{proof}[Proof of \ref{thm:1.6.19}]
We already know that $ \Gamma\br{G, S} $ is a tree for $ G $ free on $ S $ and $ G $ acts freely on it. Now assume $ G $ acts freely on a tree $ X $. Set $ X' = G \backslash X $. Let $ T' $ be a spanning tree for $ X' $. By \ref{prop:1.6.18} there exists a lift $ T $ of $ T' $ such that $ \p\br{T} \cong T' $. Pick an orientation of $ X' $. We may assume $ G $ acts without inversion of edges, whence we can lift that orientation to $ X $. Denote by $ E' = X_+^1 \setminus T'^1 $. As the action is free, for every $ f \in E' $ there is a unique lift $ e \in X_+^1 $ with $ \alpha\br{e} \in T $. Set
$$ E = \cbr{e \st \p\br{e} \in E', \ \alpha\br{e} \in T}. $$
Clearly, $ \omega\br{e} \notin T $ for all $ e \in E $. Further, all $ gT $ are disjoint for distinct $ g $. Furthermore, the $ gT $ cover all vertices of $ X $. Also, for any $ e \in E $ there is a unique $ g_e \in G $ such that $ \omega\br{e} \in g_eT $. Now set $ S = \cbr{g_e \st e \in E} $. Define a graph $ T_G $ via
$$ T_G^0 = \cbr{\br{gT} \st g \in G}, \qquad T_G^1 = X_+^1 \setminus \cbr{\br{gT}^1 \st g \in G}. $$
For $ f \in T_G^1 $, $ \alpha\br{f} = \br{gT} $ and $ \omega\br{f} = \br{hT} $ if and only if $ \alpha\br{f} \in \br{gT}^0 $ and $ \omega\br{f} \in \br{hT}^0 $. We claim that $ T_G \cong \Gamma\br{G, S} $. Note that $ T_G $ is a tree, so this concludes the proof. Note that
$$ S = \cbr{g \in X_+^1 \st \exists e \in X_+^1, \ \alpha\br{e} \in T, \ \omega\br{e} \in gT}. $$
Hence, for $ f \in T_G^1 $, with $ \alpha\br{f} = \br{gT} $ and $ \omega\br{f} = \br{hT} $, whence for $ e = g^{-1}\br{f} $ we have $ \alpha\br{g^{-1}\br{f}} = g^{-1}\br{\alpha\br{f}} \in T $ and $ \omega\br{e} = g^{-1}\br{\omega\br{e}} \in g^{-1}hT $. Thus $ g^{-1}h \in S $. Define
$$
\begin{array}{ccrcl}
\phi & : & T_G & \longmapsto & \Gamma\br{G, S} \\
& & \br{gT} & \longmapsto & g \in \Gamma\br{G, S}^0 \\
& & f & \longmapsto & \br{g, s}
\end{array},
\qquad \alpha\br{f} \in gT, \qquad \omega\br{f} = hT, \qquad g^{-1}h = s. $$
One easily checks that $ \phi $ is an isomorphism $ T_G \xrightarrow{\sim} \Gamma\br{G, S} $.
\end{proof}

Recall for $ H \le G $ a subgroup of a free group, we studied $ H \curvearrowright \Gamma\br{G, S} $. Now we want to understand what $ H \backslash \Gamma\br{G, S} $ looks like and give another proof of Nielson-Schreier.

\subsection{Fundamental groups of graphs}

The following is the plan.
\begin{itemize}
\item Introduce fundamental groups.
\item Show they always are free groups.
\item View $ H $ as the fundamental group of $ H \backslash \Gamma\br{G, S} $.
\item Deduce that $ H $ is free.
\end{itemize}

Let $ X $ be a connected graph and $ x \in X^0 $. Let us denote the set of closed paths starting at $ x $ by $ \PPP\br{X, x} $. We say that $ p, q \in \PPP\br{X, x} $ are \textbf{homotopic}, if there exists $ p = p_0, \dots, p_n = q $ such that $ p_{i + 1} $ arises from $ p_i $ by deleting or inserting subpaths of the form $ e\overline{e} $, for $ e \in X^1 $. This is an equivalence relation and every class has exactly one reduced representative. Denote the homotopy class of $ p $ by $ \sbr{p} $.

\begin{exercise}
Define a multiplication $ \sbr{p}\sbr{q} = \sbr{pq} $. Show that this is well-defined and yields a group structure.
\end{exercise}

\pagebreak

\begin{definition}
We denote the group of homotopy classes of $ \PPP\br{X, x} $ by $ \pi_1\br{X, x} $ and call it the \textbf{fundamental group} of $ X $ with respect to $ x $.
\end{definition}

\begin{exercise}
Let $ X $ be connected and $ x, y \in X^0 $. Then $ \pi_1\br{X, x} \cong \pi_1\br{X, y} $.
\end{exercise}

\lecture{16}{Thursday}{07/11/19}

\begin{example}
\hfill
\begin{itemize}
\item If $ X $ is a tree, then $ \pi_1\br{X, x} = \cbr{e} $.
\item If $ X \cong \CCC_n $ for $ 1 < n < \infty $, then $ \pi_1\br{X, x} = \br{\ZZ, +} $.
\end{itemize}
\end{example}

\begin{definition}
Let $ X $ be a connected graph and $ T \subseteq X $ a spanning tree of $ X $. Then for every $ y \in X^0 $, and $ x \in X^0 $ fixed, there is a unique reduced path in $ T $ from $ x $ to $ y $. Denote that path by $ p_y $. Now, if $ e \in X^1 $ we denote by $ p_e = p_{\alpha\br{e}}ep_{\omega\br{e}}^{-1} \in \PPP\br{X, x} $.
\end{definition}

\begin{note*}
$ \sbr{p_{\overline{e}}} = \sbr{p_e}^{-1} $, and if $ e \in T^1 $, then $ \sbr{p_e} = 1 $.
\end{note*}

\begin{theorem}
Let $ X $ be connected and $ T \subseteq X $ a spanning tree. Then $ \pi_1\br{X, x} $ is free on
$$ S = \cbr{\sbr{p_e} \st e \in X_+^1 \setminus T^1}. $$
\end{theorem}

\begin{proof}
First, if $ p \in \PPP\br{X, y} $ and $ p = e_1 \dots e_n $, then $ \sbr{p} = \sbr{p_{e_1}} \dots \sbr{p_{e_n}} $. As $ \sbr{p_e} = 1 $ for all $ e \in T $ we know that $ S $ generates $ \pi_1\br{X, x} $. Now let
$$ w = \sbr{p_{e_1}} \dots \sbr{p_{e_n}} = \sbr{p_{e_1} \dots p_{e_n}}, \qquad e_i \notin T, \qquad e_{i + 1} = \overline{e_i} $$
be a reduced word on $ S $. Then $ w = u_1e_1v_1 \dots u_ne_nv_n $, where $ v_iu_{i + 1} \in T $ and $ e_i \notin T $. Hence the reduced presentation of $ w $ is some $ t_1e_1 \dots t_ne_nt_{n + 1} $, where $ t_i $ might be empty. This is the empty word, if and only if $ n = 0 $ and $ t_n = \epsilon $, whence $ w = \epsilon $.
\end{proof}

\begin{example}
The fundamental group of the rose with $ n $-many petals is the free group of rank $ n $.
\end{example}

\begin{remark}[Free group VII]
A group is free if and only if it is the fundamental group of a graph.
\end{remark}

Let $ G $ be free on $ S $ and $ H \le G $, then $ H \curvearrowright \Gamma\br{G, S} $. Set $ Y = H \backslash \Gamma\br{G, S} $.

\begin{lemma}
\label{lem:1.7.9}
The group $ H $ consists of all labels of paths in $ Y $ which start and end in $ H $.
\end{lemma}

Recall that
\begin{itemize}
\item $ Y^0 = \cbr{Hg \st g \in G} $ and $ Y^1 = \cbr{\br{Hg, s} \st s \in S} $, and
\item $ \l\br{\br{g, s}} = s $, and if $ p = e_1 \dots e_n $, then $ \l\br{p} \underset{G}{=} \l\br{e_1} \dots \l\br{e_n} $.
\end{itemize}

\begin{proof}
First, let $ p $ be a path in $ Y $ with $ \alpha\br{p} = \omega\br{p} = H $. Let $ p = e_1 \dots e_n $. Note $ \omega\br{e_{i + 1}} = \alpha\br{e_i}\l\br{e_i} $. Hence,
$$ H = \alpha\br{e_1} = \omega\br{e_n} = \alpha\br{e_n}\l\br{e_n} = \omega\br{e_{n - 1}}\l\br{e_n} = \dots = \alpha\br{e_1}\l\br{e_1} \dots \l\br{e_n}. $$
Conversely, if $ h \in H $, then note that every vertex in the factor has exactly one outgoing and one incoming edge of label $ s $. Hence $ h = s_1 \dots s_n $ for $ s_i \in S^\pm $ gives rise to a unique reduced path $ p $ in $ Y $ such that $ \alpha\br{p} = H $ and $ \omega\br{p} = \alpha\br{p}\l\br{s_1} \dots \l\br{s_n} = H \cdot h = H $.
\end{proof}

\begin{theorem}
Let $ G $ be free and $ H \le G $ and $ Y = H \backslash \Gamma\br{G, S} $. If $ T $ is a spanning tree of $ Y $, then $ H \cong \pi_1\br{Y, H} $ and free on $ S = \cbr{\l\br{p_e} \st e \in Y_+^1 \setminus T^1} $.
\end{theorem}

\begin{proof}
We claim that
$$ \function[\phi]{\pi_1\br{Y, H}}{G}{\sbr{p}}{\l\br{p}} $$
is injective. Clearly $ \phi $ is well-defined as homotopic paths have the same label, it is a homomorphism of groups, and by \ref{lem:1.7.9} its image is exactly $ H $. Note that every homotopy class has a unique reduced representative, $ \sbr{p} = \sbr{e_1} \dots \sbr{e_n} $ for $ e_i \in Y_+^1 \setminus T^1 $. This is mapped to the reduced word $ \l\br{e_1} \dots \l\br{e_n} = s_1 \dots s_n $. Hence $ \phi\br{\sbr{p}} = e_G $ if and only if $ \sbr{p} = 1 $.
\end{proof}

\subsection{Outlook}

\lecture{17}{Tuesday}{12/11/19}

The goal is a rough version of the fundamental structure theorem. Assume $ G $ acts without inversion of edges on a tree $ X $. Then it is the fundamental group of some graph of groups $ \br{G, Y} $, such that $ Y = G \backslash X $.

\pagebreak

\section{Bass-Serre theory}

Bass-Serre theory is a fancy name of groups acting on graphs. Until now, free actions. Now, drop the freedom and study the algebraic structures appearing, especially if factor graphs of $ G \circ G $ are simple. These structures correspond to freely amalgamated products and HNN extensions. We introduce them algebraically, and later view them as fundamental groups. Intuitively, graphs of groups are graphs for which each vertex and each edge is a group, and such that edge groups embed into vertex groups. From there we deduce the main theorem. Amalgamated products and HNN extensions are ways to build new groups out of two given ones. A pre-step will be free products.

\subsection{Free products of groups}

Given two groups $ G_1 $ and $ G_2 $, we already know one way of combining them,
$$ G_1 \times G_2 = \cbr{\br{g_1, g_2} \st g_i \in G_i}. $$

\begin{note*}
$ G_i \hookrightarrow G_1 \times G_2 $ but there are non-trivial relations between $ G_1 $ and $ G_2 $, such as $ \sbr{g_1, g_2} = e_G $ for all $ g_i \in G_i $.
\end{note*}

\begin{definition}
Let $ G $ be a group and $ A, B \le G $ subgroups of $ G $. Then we say that $ G $ is the \textbf{free product} of $ A $ and $ B $, writing $ G = A * B $, if and only if
\begin{itemize}
\item $ G = \abr{A, B} $, and
\item Whenever $ g = g_0 \dots g_n $ such that $ n \in \NN $, and $ g_i \in A \cup B \setminus \cbr{e_G} $ and $ g_i \in A $ if and only if $ g_{i + 1} \in B $, then $ g \underset{G}{\ne} e_G $.
\end{itemize}
Such a presentation of $ g $ is called a \textbf{normal form} of length $ n + 1 $.
\end{definition}

\begin{remark}
\hfill
\begin{itemize}
\item If $ A = \cbr{e_G} $, then $ G = A * B = B $. This is called a \textbf{trivial free product}. Everything else is called a \textbf{non-trivial free product}.
\item $ G = \ZZ * \ZZ \cong \FF_2 $.
\item $ G = \FF_{n + 1} \cong \FF_n * \ZZ $.
\item $ G = A * B \cong B * A $.
\end{itemize}
\end{remark}

\begin{lemma}
Let $ A $ and $ B $ be groups. Then there is some $ G $, and $ \iota_A : A \hookrightarrow G $ and $ \iota_B : B \hookrightarrow G $ embeddings such that $ G = \iota_A\br{A} * \iota_B\br{B} $.
\end{lemma}

\begin{proof}
By taking isomorphic copies if necessary, we may assume that $ A \cap B = \cbr{1} $. Define the set of elements of $ G $ as all words $ g = g_0 \dots g_n $ with $ g_i \in A \setminus \cbr{e_A} \cup B \setminus \cbr{e_B} $, and $ g_i \in A $ if and only if $ g_{i + 1} \in B $. For $ h = h_0 \dots h_m \in G $ we set inductively
$$ g \cdot h =
\begin{cases}
g_0 \dots g_nh_0 \dots h_m & g_n \in A \iff h_0 \in B \\
g_0 \dots g_{n - 1}xh_1 \dots h_m & g_n \in A \iff h_0 \in A, \ x = g_nh_0 \ne e_A \\
g_0 \dots g_{n - 1}h_1 \dots h_m & g_n \in A \iff h_0 \in A, \ g_nh_0 = e_A
\end{cases}.
$$
Identify the empty word with $ e_G $. Clearly, $ A $ and $ B $ inject into $ G $ as words with length one or zero, and $ G = A * B $.
\end{proof}

\begin{exercise}
Show that $ \ZZ_2 * \ZZ_2 \cong \DDD_\infty $.
\end{exercise}

\lecture{18}{Wednesday}{13/11/19}

Lecture 18 is a problem class.

\pagebreak

\lecture{19}{Thursday}{14/11/19}

\begin{proposition}
If $ A = \abr{S_A \st R_A} $ and $ B = \abr{S_B \st R_B} $, then if $ S_A \cap S_B = \emptyset $,
$$ A * B = \abr{S_A \cup S_B \st R_A \cup R_B}. $$
\end{proposition}

\begin{proof}
$ A \cong \F\br{S_A} / \abr{R_A}^{\F\br{S_A}} $ and $ \phi_A : \F\br{S_A} \to A $ such that $ \Ker \phi_A = \abr{R_A}^{\F\br{S_A}} $. Similar for $ \phi_B $. We know that $ \phi_A \cup \phi_B : S_A \cup S_B \to A * B $ has a unique extension to a homomorphism of groups, say $ \psi : \F\br{S_A \cup S_B} \to A * B $. Clearly $ S_A \cup S_B $ generate $ A * B $. We claim that $ \Ker \psi = \abr{\Ker \phi_A \cup \Ker \phi_B} $. Then $ \Ker \psi \supseteq \Ker \phi_A \cup \Ker \phi_B $ is clear. Now let $ w = g_1 \dots g_2 $ be in normal form with respect to $ \F\br{S_A} * \F\br{S_B} $. Then $ \psi\br{w} = \psi\br{g_1} \dots \psi\br{g_n} $ is of alternating form. If $ \psi\br{w} = e_{A * B} $, then there exists $ i $ such that $ \psi\br{g_i} = e_{A * B} $. So $ g_i \in \Ker \phi_A \cup \Ker \phi_B $ . Inductively, as $ g' = g_1 \dots g_{i - 1}g_{i + 1} \dots g_n $ has a smaller normal form, whence $ \psi\br{g'} = e_G $, we conclude inductively that $ w \in \abr{\Ker \phi_A \cup \Ker \phi_B} $.
\end{proof}

\begin{proposition}
Let $ G $ be a group and $ A, B \le G $. Then $ G = A * B $ if and only if for any group $ H $, and $ \phi_A : A \to H $ and $ \phi_B : B \to H $ there is a unique homomorphism $ \psi : G \to H $ extending $ \phi_A $ and $ \phi_B $.
\end{proposition}

\begin{proof}
Exercise. \footnote{Exercise}
\end{proof}

\begin{lemma}[Ping pong lemma]
Let $ G $ be a group, $ A, B \le G $ such that $ \abs{A} + \abs{B} \ge 5 $, and $ H = \abr{A, B} $. Assume that $ G $ acts on some set $ X $. If there are non-empty subsets $ X_1, X_2 \subseteq X $ such that
\begin{itemize}
\item $ X_i \not\subseteq X_j $ for $ i \ne j $, and
\item $ a\br{X_2} \subseteq X_1 $ for all $ a \in A \setminus \cbr{e_G} $ and $ b\br{X_1} \subseteq X_2 $ for all $ b \in B \setminus \cbr{e_G} $,
\end{itemize}
then $ H = A * B $.
\end{lemma}

\begin{remark}
If $ \abs{A} = \abs{B} = 2 $, then $ A \cong B \cong \ZZ_2 $ and $ H \cong \DDD_n $ is the dihedral group for some $ n \in \NN $.
\end{remark}

\begin{proof}
If $ A $ or $ B $ is trivial, then $ H = A * B $. For example, if $ A $ is trivial $ H = B = A * B $. Hence without loss of generality, $ \abs{A} \ge 3 $ and $ \abs{B} \ge 2 $. We want to show that no normal form with respect to $ A $ and $ B $ is trivial in $ G $. Consider $ w = a_1b_1 \dots a_nb_na_{n + 1} $. Then
$$ w\br{X_2} = a_1b_1 \dots a_nb_na_{n + 1}\br{X_2} \subseteq \dots \subseteq a_1\br{X_2} \subseteq X_1. $$
So $ w \ne e_G $. The same holds for $ w = bw'b' $. If $ w $ starts with a letter in $ A $ and ends with a letter in $ B $, or vice versa, take $ a' \in A \setminus \cbr{e_G, a} $ and consider $ w' = a'^{-1}wa' $, or $ w' = a'wa'^{-1} $. Then $ w' \ne e_G $ so $ w \ne e_G $. Hence $ H = A * B $.
\end{proof}

\begin{example}
The \textbf{projective special linear group} $ \PSL_2\br{\ZZ} $, the \textbf{modular group}. Clearly general linear groups act on vector spaces. To any vector space we can associate a projective space by factoring through a non-zero scalar multiplication. We denote them by $ \sbr{x} $. If $ k^{n + 1} $ is a vector space, we can identify the projective space with $ k^n \cup \cbr{\infty} $ via
$$ \sbr{x_1, \dots, x_{n + 1}} = \sbr{\dfrac{x_1}{x_{n + 1}}, \dots, \dfrac{x_n}{x_{n + 1}}, 1} \mapsto \br{\dfrac{x_1}{x_{n + 1}}, \dots, \dfrac{x_n}{x_{n + 1}}}, \qquad \sbr{x_1, \dots, x_n, 0} \mapsto \infty. $$
If $ k = \RR $, then this is denoted by $ \PP_n $. We set $ \PGL_n\br{k} = \GL_n\br{k} / \lambda\I_n $. Recall that $ \SL_2\br{\ZZ} $ are those of determinant one. Then $ \lambda\I_2 \cap \SL_2\br{\ZZ} = \cbr{-\I_2, \I_2} $. So, consequently $ \PSL_2\br{\ZZ} = \SL_2\br{\ZZ} / \cbr{-\I_2, \I_2} $, and it acts on $ \PP_1 $. Then
$$ \twobytwo{a}{b}{c}{d}\sbr{\twobyone{x}{1}} = \sbr{\twobyone{ax + b}{cx + d}} = \sbr{\twobyone{\tfrac{ax + b}{cx + d}}{1}}. $$
Hence
$$ \function{\PSL_2\br{\ZZ} \curvearrowright \PP_1}{\PP_1}{x}{
\begin{cases}
\dfrac{ax + b}{cx + d} & cx + d \ne 0 \\
\infty & cx + d = 0
\end{cases}
}, \qquad A = \twobytwo{a}{b}{c}{d}. $$
\end{example}

\pagebreak

\begin{lemma}
$ \PSL_2\br{\ZZ} \cong \ZZ_2 * \ZZ_3 $.
\end{lemma}

\lecture{20}{Tuesday}{19/11/19}

\begin{proof}
A fact is that $ \SL_2\br{\ZZ} $ is generated by
$$ A = \twobytwo{0}{-1}{1}{0}, \qquad B = \twobytwo{1}{-1}{1}{0}. $$
Hence $ \PSL_2\br{\ZZ} $ is generated by $ \sbr{A} = A / \cbr{\pm\I_2} $ and $ \sbr{B} = B / \cbr{\pm\I_2} $. Then
$$ B^3 = \twobytwo{1}{-1}{1}{0}\twobytwo{1}{-1}{1}{0}\twobytwo{1}{-1}{1}{0} = \twobytwo{-1}{0}{0}{-1} \equiv \I_2 \equiv e_{\PSL_2\br{\ZZ}}. $$
Similarly $ A^2 = -\I_2 $. Set $ X_1 = \RR_{< 0} $ and $ X_2 = \RR_{> 0} $. Then $ \sbr{A} \cdot x = -1 / x $ and $ \sbr{B} \cdot x = 1 - 1 / x $, and $ \sbr{B}^2 \cdot x = -1 / \br{x - 1} $. Now clearly $ \sbr{A} \cdot X_i = X_j $, and $ \sbr{B} \cdot X_1 \subsetneq X_2 $ and $ \sbr{B}^2 \cdot X_1 \subsetneq X_2 $. Hence $ \PSL_2\br{\ZZ} \cong \abr{\sbr{A}} * \abr{\sbr{B}} \cong \ZZ_2 * \ZZ_3 $.
\end{proof}

\begin{remark*}
Free products appear naturally in topology. Let $ X_1 $ and $ X_2 $ be connected topological spaces, and $ x_i \in X_i $. Then we can construct a new topological space $ X $ by gluing $ X_1 $ and $ X_2 $ on $ x_1 = x_2 $. Then $ \pi_1\br{X} = \pi_1\br{X_1} * \pi_1\br{X_2} $.
\end{remark*}

\begin{example*}
Let
$$
\begin{tikzpicture}
\draw (-0.5, 0) node[left]{$ X_1 = X_2 = $};
\fill (0, 0) circle (0.1) node[left]{$ x_i $};
\draw [->] (0, 0) arc (180:-170:0.5);
\end{tikzpicture}.
$$
Then $ \pi_1\br{X_i, x_i} = \ZZ $ and $ \pi_1\br{X, x_i} = \FF_2 = \ZZ * \ZZ $.
\end{example*}

If we glue $ X_1 $ and $ X_2 $ along subspaces of large dimension we naturally obtain amalgamated free products.

\subsection{Amalgamated free products}

In free products of $ G_1 $ and $ G_2 $ we have $ G_1 \underset{G_1 * G_2}{\cap} G_2 = \cbr{e_G} $.

\begin{definition}
Let $ G_1 $ and $ G_2 $ be groups, and $ A \le G_1 $ and $ B \le G_2 $ such that $ A \cong B $, say via $ \phi : A \xrightarrow{\sim} B $. Then we call
$$ G_1 * G_2 / \abr{\cbr{a^{-1}\phi\br{a} \st a \in A}}^{G_1 * G_2} $$
the \textbf{amalgamated free product} and denote it by
$$ \abr{G_1 * G_2 \st \phi\br{a} = a, \ a \in A}, $$
or $ G_1 \underset{A = B}{*} G_2 $ or $ G_1 \underset{A}{*} G_2 $, where in the last two cases the isomorphism should be mentioned, unless it is clear or irrelevant.
\end{definition}

\begin{remark}
\hfill
\begin{itemize}
\item A corollary is that for any two $ G_1 $ and $ G_2 $ with subgroups $ A \cong B $ there is some $ G \cong G_1 \underset{A = B}{*} G_2 $.
\item If $ A = \cbr{e_G} $, then $ G_1 \underset{A}{*} G_2 = G_1 * G_2 $. If $ A = G_1 $, then $ G_1 \underset{A}{*} G_2 = G_2 $.
\end{itemize}
\end{remark}

\begin{exercise}
\hfill
\begin{itemize}
\item Assume $ \phi_1, \phi_2 : A \to B $. Is
$$ \abr{G_1 * G_2 \st \phi_1\br{a} = a} \cong \abr{G_1 * G_2 \st \phi_2\br{a} = a}? $$
\item Assume $ B' \cong B \le G_2 $. Is
$$ G_1 \underset{A = B}{*} G_2 \cong G_1 \underset{A = B'}{*} G_2? $$
\end{itemize}
\end{exercise}

\begin{exercise}
\label{ex:3.2.4}
If $ G_1 = \abr{S_1 \st R_1} $ and $ G_2 = \abr{S_2 \st R_2} $ with $ S_1 \cap S_2 = \emptyset $, then
$$ G_1 \underset{A = B}{*} G_2 = \abr{S_1 \cup S_2 \st R_1 \cup R_2 \cup \cbr{a^{-1}\phi\br{a} \st a \in A}}. $$
\end{exercise}

We will see that $ G_i \xhookrightarrow{\iota_i} G_1 \underset{A}{*} G_2 $, whence we identify, often, $ G_i $ with its image $ \iota_i\br{G_i} $.

\pagebreak

\begin{example}
\hfill
\begin{itemize}
\item Let $ k \le n, m $ and let $ \FF_k \le \FF_n, \FF_m $, where $ \FF_k $ is the group generated by the first $ k $-many generators. Then $ \FF_n \underset{\FF_k}{*} \FF_m \cong \FF_{n + m - k} $. Indeed, if $ \FF_n = \abr{a_1, \dots, a_n \st} $ and $ \FF_m = \abr{b_1, \dots, b_m \st} $, and $ \phi_i : a_i \mapsto b_i $ for $ i \le k $, by \ref{ex:3.2.4}
$$ \FF_n \underset{\FF_k}{*} \FF_m = \abr{a_1, \dots, a_n, b_1, \dots, b_m \st a_i^{-1}b_i, \ i = 1, \dots, k}. $$
By inverse Tietze 2 $ k $-times, we get
$$ \FF_n \underset{\FF_k}{*} \FF_m = \abr{a_{k + 1}, \dots, a_n, b_1, \dots, b_m \st} \cong \FF_{n + m - k}. $$
\item Consider
$$
\begin{tikzpicture}
\draw (0, 0.5) node[left]{$ X = $};
\fill (0, 0) circle (0.1);
\fill (1, 0) circle (0.1);
\fill (2, 0) circle (0.1);
\fill (0, 1) circle (0.1);
\fill (1, 1) circle (0.1);
\fill (2, 1) circle (0.1);
\draw (0, 0) to (2, 0);
\draw (0, 1) to (2, 1);
\draw (0, 0) to (0, 1);
\draw (1, 0) to (1, 1);
\draw (2, 0) to (2, 1);
\draw (2.5, 0.5) node{$ \supset $};
\fill (3, 0) circle (0.1);
\fill (4, 0) circle (0.1);
\fill (3, 1) circle (0.1);
\fill (4, 1) circle (0.1);
\draw (3, 0) to (4, 0);
\draw (3, 1) to (4, 1);
\draw (3, 0) to (3, 1);
\draw (4, 0) to (4, 1);
\draw (4, 0.5) node[right]{$ = X_1 $};
\end{tikzpicture},
\qquad
\begin{tikzpicture}
\draw (0, 0.5) node[left]{$ X \underset{X_1}{\sqcup} X = $};
\fill (0, 0) circle (0.1);
\fill (1, 0) circle (0.1);
\fill (2, 0) circle (0.1);
\fill (3, 0) circle (0.1);
\fill (0, 1) circle (0.1);
\fill (1, 1) circle (0.1);
\fill (2, 1) circle (0.1);
\fill (3, 1) circle (0.1);
\draw (0, 0) to (1, 0);
\draw [very thick] (1, 0) to (2, 0);
\draw (2, 0) to (3, 0);
\draw (0, 1) to (1, 1);
\draw [very thick] (1, 1) to (2, 1);
\draw (2, 1) to (3, 1);
\draw (0, 0) to (0, 1);
\draw [very thick] (1, 0) to (1, 1);
\draw [very thick] (2, 0) to (2, 1);
\draw (3, 0) to (3, 1);
\end{tikzpicture}.
$$
Then $ \pi_1\br{X} = \FF_2 $ and $ \pi_1\br{X_1} = \FF_1 $, and
$$ \pi_1\br{X \underset{X_1}{\sqcup} X} = \FF_3 \cong \FF_2 \underset{\FF_1}{*} \FF_2. $$
\end{itemize}
\end{example}

\begin{theorem}[Seifert-van Kampen]
Let $ X $ be a path-connected topological space such that $ X = X_1 \cup X_2 $ for $ X_i $ path-connected. If $ X_1 \cap X_2 $ is path-connected, then
$$ \pi_1\br{X} = \pi_1\br{X_1} \underset{\pi_1\br{X_1 \cap X_2}}{*} \pi_1\br{X_2}, $$
and furthermore
$$
\begin{tikzcd}
& \pi_1\br{X_1} \arrow{dr} \arrow[bend left=15]{drr}{f} & & \\
\pi_1\br{X_1 \cap X_2} \arrow{ur} \arrow{dr} & & \pi_1\br{X} \arrow[dashed]{r}{\exists !h} & \pi_1\br{Y} \\
& \pi_1\br{X_2} \arrow{ur} \arrow[bend right=15, swap]{urr}{g} & &
\end{tikzcd}.
$$
\end{theorem}

\lecture{21}{Wednesday}{20/11/19}

\begin{definition}
Let $ G_1 $ and $ G_2 $ be groups, and $ A \le G_1 $ and $ B \le G_2 $, and such that $ A \cong B $. Let $ \T_A $ be the set of representatives of right cosets of $ A $ in $ G_1 $, and similarly $ \T_B $. Now, we call some tuple $ \br{x_0, \dots, x_n} $ such that
\begin{itemize}
\item $ x_0 \in A $, and
\item $ x_i \in \T_A \setminus \cbr{e_{G_1}} \cup \T_B \setminus \cbr{e_{G_2}} $, and $ x_i \in \T_A $ if and only if $ x_{i + 1} \in \T_B $,
\end{itemize}
an \textbf{$ A $-normal form}, with respect to $ \T_A $ and $ \T_B $. We always pick $ e_{G_1} $ to represent $ A $. Similarly, we can define a \textbf{$ B $-normal form}.
\end{definition}

\begin{example}
Let $ G_1 = \abr{a \st a^{12}} $ and $ G_2 = \abr{b \st b^{15}} $, let $ A = \abr{a^4} \cong \ZZ_3 \cong \abr{b^5} = B $, and fix $ \phi : a^4 \mapsto b^5 $. Choose $ \T_A = \cbr{e_{G_1}, a, a^2, a^3} $ and $ \T_B = \cbr{e_{G_2}, b, b^2, b^3, b^4} $. Consider $ g \in G = G_1 \underset{A = B}{*} G_2 $, where
$$ g = \sbr{a^3ba^5} = a^3ba^5 / \abr{a'^{-1}\phi\br{a'} \st a' \in A}^{G_1 * G_2}. $$
Then
\begin{align*}
\sbr{a^3ba^5}
& = \sbr{a^3ba^4a} & a^5 \in Aa \\
& = \sbr{a^3bb^5a} & a^4 = \phi\br{a^4} = b^5 \\
& = \sbr{a^3b^5ba} & b^6 \in Bb \\
& = \sbr{a^3a^4ba} & b^5 = \phi\br{a^4} = a^4 \\
& = \sbr{a^4a^3ba},
\end{align*}
and $ \br{a^4, a^3, b, a} $ is an $ A $-normal form.
\end{example}

\pagebreak

\begin{theorem}
The following are equivalent.
\begin{itemize}
\item $ G_1 \underset{A = B}{*} G_2 $.
\item Every element $ g \in G $ can be written uniquely as $ g = x_0 \dots x_n $ where $ \br{x_0, \dots, x_n} $ is in $ A $-normal form.
\end{itemize}
\end{theorem}

\begin{proof}
\hfill
\begin{itemize}
\item[$ \implies $] Assume $ G \cong G_1 \underset{A = B}{*} G_2 $. Recall that we identify the embedded images of $ G_1 $ and $ G_2 $ with the groups themselves. Fix $ \T_A = \cbr{x \st x \in \T_A} $ and $ \T_B = \cbr{y \st y \in \T_B} $. Then for every $ g \in G_1 $, there exist unique $ a_g \in A $ and $ x_g \in \T_A $ such that $ g = a_gx_g \in Ax_g $. Similarly for every $ h \in G_2 $, $ h = b_hy_h $. Now, as $ G = G_1 * G_2 / N $, we can write any $ f \in G $ as $ f = \sbr{g_1h_1 \dots g_nh_n} $, where all but possibly $ g_1 $ and $ h_n $ are non-trivial. Now $ h_n = b_{h_n}y_{h_n} $, and $ \sbr{b_{h_n}} = \sbr{\phi\br{a_n}} = \sbr{a_n} $. Hence
\begin{align*}
\sbr{g_1h_1 \dots g_nh_n}
& = \sbr{g_1h_1 \dots g_na_ny_{h_n}} \\
& = \sbr{g_1h_1 \dots a_{g_na_n}x_{g_na_n}y_{h_n}} & g_na_n = a_{g_na_n}x_{g_na_n} \\
& = \sbr{g_1h_1 \dots b_{n - 1}x_{g_na_n}y_{h_n}} & \sbr{b_{n - 1}} = \sbr{\phi\br{a_{g_na_n}}} = \sbr{a_{g_na_n}} \\
& = \dots \\
& = \sbr{a_{g_1a_1}x_{g_1a_1}y_{h_1b_1} \dots x_{g_na_n}y_{h_n}},
\end{align*}
and $ \br{a_{g_1a_1}, x_{g_1a_1}, y_{h_1b_1}, \dots, x_{g_na_n}, y_{h_n}} $ is an $ A $-normal form. For uniqueness the idea is as follows. We define an action of $ G_1 $ and $ G_2 $ on $ \W_A $, the set of all $ A $-normal forms. We extend this to $ G $ and show that if $ g = x_0 \dots x_n $, then $ g \cdot e_{G_1} = \br{x_0, \dots, x_n} $. Hence the normal form is unique. Note that there is a bijection between $ \W_A $ and $ \W_B $ via $ f : \br{x_0, \dots, x_n} \mapsto \br{\phi\br{x_0}, x_1, \dots, x_n} $. Now define $ G_1 \curvearrowright \W_A $. Pick $ z = \br{z_0, \dots, z_n} \in \W_A $. Then
$$ g \cdot z = a_gx_g \cdot z =
\begin{cases}
\br{gz_0, z_1, \dots, z_n} & g \in A \\
\br{a_{gz_0}, x_{gz_0}, z_1, \dots, z_n} & g \notin A, \ z_1 \in G_2, \ z_1 \in \T_B \\
\br{gz_0z_1, z_2, \dots, z_n} & g \notin A, \ z_1 \in G_2, \ gz_0z_1 \in A \\
\br{a_{gz_0z_1}, x_{gz_0z_1}, z_2, \dots, z_n} & g \notin A, \ z_1 \in G_2, \ gz_0z_1 \notin A
\end{cases}.
$$
This is an action. Similarly we define $ G_2 \curvearrowright \W_B $. We shift that action to $ \W_A $ via $ h \cdot z = f^{-1}\br{h \cdot f\br{z}} $ for $ h \in G_2 $ and $ z \in \W_A $. Clearly, these actions extend to $ G_1 * G_2 \curvearrowright \W_A $. Further for $ z \in \W_A $ we have
\begin{align*}
\phi\br{a}a^{-1} \cdot z
& = \phi\br{a} \cdot \br{a^{-1}z_0, z_1, \dots, z_n}
= f^{-1}\br{\phi\br{a} \cdot f\br{\br{a^{-1}z_0, z_1, \dots, z_n}}} \\
& = f^{-1}\br{\phi\br{a} \cdot \br{\phi\br{a}^{-1}\phi\br{z_0}, z_1, \dots, z_n}}
= f^{-1}\br{\phi\br{z_0}, z_1, \dots, z_n}
= \br{z_0, \dots, z_n}
= z.
\end{align*}
Hence we can extend the action to $ G = G_1 * G_2 / \abr{\cbr{a^{-1}\phi\br{a} \st a \in A}}^N $. If $ g \in G $, we can write it as $ g = z_0 \dots z_n $ where $ \br{z_0, \dots, z_n} $ is an $ A $-normal form. Then
$$ g \cdot \br{e_{G_1}} = z_0 \dots z_n \cdot \br{e_{G_1}} = z_0 \dots z_{n - 1} \cdot \br{e_{G_1}, z_n} = \dots = z_0 \cdot \br{e_{G_1}, z_1, \dots, z_n} = \br{z_0, \dots, z_n}. $$
Thus every $ g $ has a unique $ A $-normal form.
\item[$ \impliedby $] Exercise. \footnote{Exercise}
\end{itemize}
\end{proof}

\lecture{22}{Thursday}{21/11/19}

\begin{corollary}
\hfill
\begin{itemize}
\item No $ A $-normal form of length at least two can represent the trivial element in $ G_1 \underset{A}{*} G_2 $.
\item We can identify $ G_1 \underset{A}{*} G_2 $ with $ \W_A $ and multiplication given by the action just defined.
\item Clearly, $ G_1 $ and $ G_2 $ embed onto $ G_1 \underset{A}{*} G_2 = \W_A $ via $ \iota_1\br{g} = \br{a_g, x_g} $ for $ g \in G_1 $ and $ \iota_2\br{h} = \br{\phi^{-1}\br{b_h}, y_h} $ for $ h \in G_2 $. Also $ \iota_1\br{G_1} = \iota_2\br{G_2} = \iota_1\br{G_1} \cap \iota_2\br{G_2} $.
\end{itemize}
\end{corollary}

\pagebreak

\begin{fact}
Let $ G_1, G_2, A $ be groups such that $ A $ embeds via $ i_k : A \hookrightarrow G_k $ for $ k = 1, 2 $. Then the following are equivalent.
\begin{itemize}
\item $ G_1 \underset{i_1\br{A} = i_2\br{A}}{*} G_2 \cong G $.
\item There are embeddings $ j_k : G_k \hookrightarrow G $ with $ j_1 \circ i_1 = j_2 \circ i_2 $ such that for any $ H $ and homomorphisms $ \phi_k : G_k \to H $ such that $ \phi_1 \circ i_1 = \phi_2 \circ i_2 $ there is a unique $ \psi : G \to H $ such that $ \psi \circ j_k = \phi_k $. Thus
$$
\begin{tikzcd}
& G_1 \arrow[dashed, hookrightarrow]{dr}{j_1} & \\
A \arrow[hookrightarrow]{ur}{i_1} \arrow[hookrightarrow, swap]{dr}{i_2} & & G \\
& G_2 \arrow[dashed, hookrightarrow, swap]{ur}{j_2} &
\end{tikzcd},
\qquad
\begin{tikzcd}
& G_1 \arrow[hookrightarrow]{dr}{j_1} \arrow[bend left=15]{drr}{\phi_1} & & \\
A \arrow[hookrightarrow]{ur}{i_1} \arrow[hookrightarrow, swap]{dr}{i_2} & & G \arrow[dashed]{r}{\exists !\psi} & H \\
& G_2 \arrow[hookrightarrow, swap]{ur}{j_2} \arrow[bend right=15, swap]{urr}{\phi_2} & &
\end{tikzcd}.
$$
\end{itemize}
\end{fact}

\subsection{Amalgamated products and trees}

\begin{definition}
We call a graph $ X $ a \textbf{segment} if $ X^0 = \cbr{x, y} $ and $ X_+^1 = \cbr{e} $ such that $ \alpha\br{e} = x $ and $ \omega\br{e} = y $.
\end{definition}

\begin{theorem}
\label{thm:3.3.2}
Let $ G = G_1 \underset{A}{*} G_2 $. Then there is a tree $ X $ such that $ G $ acts on $ X $ without inversion of edges and such that the factor graph $ Y $ is a segment. Furthermore, there is a lift $ T = \cbr{x, y, e} $ of $ Y $, such that $ \Stab_G x = G_1 $ and $ \Stab_G y = G_2 $, and $ \Stab_G e = A $.
\end{theorem}

\begin{proof}
Let $ X^0 = G / G_1 \cup G / G_2 $ and $ X_+^1 = G / A $, with $ \alpha\br{gA} = gG_1 $ and $ \omega\br{gA} = gG_2 $. First, let us show that $ X $ is connected. Let $ g \in G $ and $ g = z_0 \dots z_n $ in $ A $-normal form. We show there is a path from $ G_1 $ to $ gG_i $ for $ i = 1, 2 $ by induction on $ n $. If $ n = 0 $ then either $ i = 1 $ and $ gG_i = z_0G_1 = G_1 $ and the empty path suffices, or $ i = 2 $ and $ gG_i = G_2 $, and $ \alpha\br{A} = G_1 $ and $ \omega\br{A} = G_2 $, so $ e = A $ suffices. Now let $ n > 0 $ and set $ g' = z_0 \dots z_{n - 1} $. Then $ z_n \in G_i $, whence $ g'G_i = z_0 \dots z_{n - 1}G_i = z_0 \dots z_{n - 1}z_nG_i = gG_i $, and by assumption there is a path from $ G_1 $ to $ g'G_1 = gG_1 $. Now, assume there is a circuit $ e_1 \dots e_n $. We may assume that $ \alpha\br{e_1} = G_1 $. As odd paths end in a coset of $ G_2 $, we know that $ n $ is even. Now there are $ x_1 \in G_1 $ and $ x_i \in G_i \setminus A $ for $ i > 1 $, and $ y_j \in G_2 \setminus A $ for $ j \ge 1 $ such that
\begin{align*}
\alpha\br{e_1} = G_1 = x_1G_1, & \qquad \omega\br{e_1} = x_1G_2 = x_1y_1G_2, \\
& \vdots \\
\alpha\br{e_n} = x_1y_1 \dots x_{\tfrac{n}{2}}y_{\tfrac{n}{2}}G_2, & \qquad \omega\br{e_n} = x_1y_1 \dots x_{\tfrac{n}{2}}y_{\tfrac{n}{2}}G_1 = G_1,
\end{align*}
a contradiction by uniqueness of $ A $-normal forms. Now every vertex $ g_1G_1 $ and $ g_2G_1 $ are in the same orbit, as $ g_2g_1^{-1} \cdot g_1G_1 = g_2G_1 $. The same for $ G_2 $. Hence $ Y $ is
$$
\begin{tikzpicture}
\fill (0, 0) circle (0.1) node[below]{$ \sbr{G_1} $};
\fill (1, 0) circle (0.1) node[below]{$ \sbr{G_2} $};
\draw [->] (0, 0) to node[above]{$ \sbr{A} $} (0.9, 0);
\end{tikzpicture}.
$$
Also all $ gA $ are in the same orbit. Then $ Y $ has a lift
$$
\begin{tikzpicture}
\fill (0, 0) circle (0.1) node[below]{$ G_1 $};
\fill (1, 0) circle (0.1) node[below]{$ G_2 $};
\draw [->] (0, 0) to node[above]{$ A $} (0.9, 0);
\end{tikzpicture},
$$
and $ \Stab_G G_1 = G_1 $ and $ \Stab_G G_2 = G_2 $, and $ \Stab_G A = A $.
\end{proof}

\lecture{23}{Tuesday}{26/11/19}

\begin{remark}
\label{rem:3.3.3}
Consider $ gG_1 \in X^1 $. Fix $ \T_A^1 $ a set of representatives of left cosets of $ A $ in $ G_1 $. Then $ gG_1 = gxG_1 $ and $ gyA \ne gxA $ for all $ y \ne x \in \T_A \setminus \cbr{1} \subseteq G_1 $. Thus the valency of $ gG_1 $ is $ \abs{G_1 : A} $. Furthermore, $ \Stab_G gG_i = gG_ig^{-1} = G_i^g $.
\end{remark}

\pagebreak

\begin{theorem}
\label{thm:3.4}
Let $ G $ be any graph acting on a tree $ X $ without inversion of edges, such that the factor graph is a segment. Then if $ T $ is any lift of $ Y $, so $ T = \cbr{x, y, e} $, set $ G_x = \Stab_G x = \cbr{g \in G \st g \cdot x = x} \le G $ and $ G_y = \Stab_G y $, and $ G_e = \Stab_G e $. Then
$$ G = G_x \underset{G_e}{*} G_y. $$
\end{theorem}

\begin{proof}
Note that such a lift $ T \subseteq X $ exists. Note that $ G \cdot T = X $ and $ G_e = G_x \cap G_y $. Claim that $ H = \abr{G_x, G_y} = G $. Otherwise we prove that $ H \cdot T $ and $ \br{G \setminus H} \cdot T $ are disjoint. First clearly $ h \cdot x \ne g \cdot x $ for $ h \in H $ and $ g \in G $ as otherwise $ g^{-1}h \cdot x = x $ for $ g^{-1}h \in H $. Similarly $ h \cdot y \ne g \cdot y $. Clearly $ g \cdot x = h \cdot y $, as otherwise $ h^{-1}g \cdot x = y $, so $ \OOO\br{x} = \OOO\br{y} $, a contradiction. Hence $ H \cdot T \cap \br{G \setminus H} \cdot T = \emptyset $. As $ G \cdot T = X $ is connected, this implies $ G \setminus H = \emptyset $ and $ H = G $. Consider $ \phi_x : G_x \hookrightarrow G $ and $ \phi_y : G_y \hookrightarrow G $. For
$$ G' = G_x \underset{G_e}{*} G_y, $$
there is some $ \phi : G' \to G $ extending $ \id_{G_x} $ and $ \id_{G_y} $ by the universal property. Clearly $ \phi $ is surjective as $ \abr{G_x, G_y} = G $. We need to show that $ \phi $ is injective. By the proof of \ref{thm:3.3.2}, there is a tree $ X' $, where $ X'^0 = \cbr{gG_x, gG_y \st g \in G} $ and $ X'^1 = \cbr{gG_e \st g \in G} $, such that $ G' \curvearrowright X' $. Define
$$ \function[\psi]{X'}{X}{gG_z}{\phi\br{g} \cdot z}, \qquad z \in \cbr{x, y, e}. $$
One checks easily that this is a graph homomorphism, as $ \phi $ is a homomorphism of groups and $ G \curvearrowright X $. Clearly $ \psi $ is surjective, as $ \phi $ is surjective and $ G \cdot T = X $. It suffices to show that $ \psi $ is locally injective. By \ref{rem:3.3.3}, the star of $ gG_x $ is exactly
$$ \cbr{gg_xG_e \st g_x \in \T_{G_e}^{G_x}}. $$
Now for $ g_x \ne g_x' \in \T_{G_e}^{G_x} $, that is $ g_xG_e \ne g_x'G_e $ and $ g_x, g_x' \in G_x $, then $ \phi\br{gg_x} \cdot y \ne \phi\br{gg_x'} \cdot y $, as otherwise $ g_x^{-1}g^{-1}gg_x' = g_x^{-1}g_x' = \phi\br{g_x^{-1}g_x'} \cdot y = y $, so $ g_x^{-1}g_x' \in G_x \cap G_y = G_e $, a contradiction. Hence $ \psi\br{gg_xG_e} = \phi\br{gg_x} \cdot e \ne \phi\br{gg_x'} \cdot e = \psi\br{gg_x'G_e} $ and $ \psi $ is locally injective. Now $ \phi $ clearly is injective on $ G_x \cup G_y $. Now if $ g \in G' \setminus G_x $, then $ x = \psi\br{G_x} \ne \psi\br{gG_x} = \phi\br{g} \cdot x $. Hence $ \phi\br{g} \ne e_G $ and $ \phi $ is injective.
\end{proof}

\begin{example}
Consider $ \DDD_\infty $. This acts on
$$
\begin{array}{c}
\begin{tikzpicture}
\fill (0, 0) circle (0.1) node[above]{$ 0 $};
\fill (1, 0) circle (0.1) node[above]{$ 1 $};
\draw [dashed] (-2, 0) to (-1, 0);
\draw [->] (0, 0) to (-1, 0);
\draw [->] (0, 0) to node[above]{$ e_0 $} (0.9, 0);
\draw [->] (1, 0) to (1.9, 0);
\draw [dashed] (2, 0) to (3, 0);
\draw [->] (0.5, 0.5) arc (180:0:0.5);
\draw [->] (0.5, -0.5) arc (0:-180:0.5);
\fill (1, 1) node[above]{$ a $};
\fill (0, -1) node[below]{$ b $};
\end{tikzpicture}
\\
\CCC_\infty
\end{array}
$$
as its automorphism group. This does invert an edge, as $ ab \cdot e_0 = \overline{e_0} $. Hence consider $ \BBB\br{\CCC_\infty} $ on which $ \DDD_\infty $ does act without inversion of edges. Set $ c = ab $. It is the rotation around $ \tfrac{1}{2} $ and $ a = cb $, so $ \DDD_\infty = \abr{b, c} $. Further $ \abr{b} \cong \abr{c} \cong \ZZ_2 $. The factor graph of $ \DDD_\infty \curvearrowright \BBB\br{\CCC_\infty} $ is
$$
\begin{tikzpicture}
\fill (0, 0) circle (0.1) node[below]{$ \OOO\br{0} $};
\fill (1, 0) circle (0.1) node[below]{$ \OOO\br{\tfrac{1}{2}} $};
\draw [->] (0, 0) to (0.9, 0);
\end{tikzpicture}.
$$
A lift is
$$
\begin{tikzpicture}
\fill (0, 0) circle (0.1) node[below]{$ 0 $};
\fill (1, 0) circle (0.1) node[below]{$ \tfrac{1}{2} $};
\draw [->] (0, 0) to node[above]{$ e_{1 / 2} $} (0.9, 0);
\end{tikzpicture}.
$$
As $ \Stab_{\CCC_\infty} 0 = \abr{b} $ and $ \Stab_{\CCC_\infty} \tfrac{1}{2} = \abr{c} $, and $ \Stab_{\CCC_\infty} e_{1 / 2} = \cbr{e_{\CCC_\infty}} $, hence by \ref{thm:3.4}, $ \DDD_\infty \cong \ZZ_2 * \ZZ_2 $.
\end{example}

\lecture{24}{Wednesday}{27/11/19}

Lecture 24 is a problem class.

\pagebreak

\subsection{HNN extensions}

\lecture{25}{Thursday}{28/11/19}

In 1949, Higman, Neumann, and Neumann asked, given $ G $ and $ A, B \le G $, and $ \phi : A \to B $ an isomorphism, is there a group $ G' $ such that $ G \hookrightarrow G' $ and there exists $ t \in G' $ such that $ t^{-1}At = B $? Fix the notation above.

\begin{definition}
Given $ G $, consider $ \abr{t} $ the abelian free group on $ \cbr{t} $. Then we set
$$ G' = G * \abr{t} / \abr{t^{-1}at\phi\br{a}^{-1} \st a \in A}^{G * \abr{t}}, $$
and $ G' $ is called the \textbf{HNN extension} of $ G $ with respect to $ A = \phi^{-1}\br{B} $. We call $ G $ the \textbf{base group}, $ A $ and $ B $ the \textbf{associated subgroups}, and $ t $ the \textbf{stable letter}. We denote the HNN-extension by
$$ \abr{G, t \st t^{-1}at = \phi\br{a}, \ a \in A}, $$
or $ G *_{A = B} $ or $ G *_A $.
\end{definition}

\begin{example}
\hfill
\begin{itemize}
\item One relator groups $ G = \abr{S \st \cbr{r}} $.
\item Baumslag-Soliter groups.
\item If $ \phi \in \Aut G $, then $ G \rtimes_\phi \ZZ = G *_G $.
\item Fundamental groups of certain surfaces.
\item Right angled Artin groups.
\end{itemize}
\end{example}

Fix a set $ \T_A $ of right cosets of $ A $ in $ G $ such that $ g = a_gx_g $ for $ x_g \in \T_A $ and $ x_{e_G} = e_G $. Similarly for $ \T_B $, $ g = b_gy_g $. Whenever we use $ \epsilon $ and $ \epsilon_i $, we assume $ \epsilon, \epsilon_i \in \cbr{-1, 1} $.

\begin{definition}
The sequence $ \br{g_0, t^{\epsilon_1}, g_1, \dots, t^{\epsilon_n}, g_n} $ is called a \textbf{normal form}, if
\begin{itemize}
\item $ g_0 \in G $ is arbitrary,
\item $ g_i \in \T_A \cup \T_B $ for $ i > 0 $ and that $ g_i \in \T_A $ if and only if $ \epsilon_i = -1 $, and
\item there is no subsequence of the form $ \br{t^\epsilon, e_G, t^{-\epsilon}} $.
\end{itemize}
We call a sequence of the form $ \br{t^{-1}, a, t} $ or $ \br{t, b, t^{-1}} $ where $ a \in A $ and $ b \in B $ a \textbf{pinch}.
\end{definition}

\begin{example}
Let $ G = \F\br{\cbr{a, b}} $ and $ A = \abr{a^2} \cong \ZZ \cong \abr{b^3} = B $, and
$$ \function[\phi]{A}{B}{a^2}{b^3}. $$
Let $ \T_A $ be the set of words which do not start with a proper power of $ a $ other than $ a^1 $, such as $ \epsilon $, $ b^{17}a^2 $, or $ ab^3a^5 $, but not $ a^2b $ or $ a^{-1}b^3 $, and $ \T_B $ the set of words which do not start with a proper power of $ b $ other than $ b $ or $ b^2 $. Consider $ g = b^2t^{-1}a^{-4}tb^5abt^{-1}a^4b^3a $. Then
\begin{align*}
g
& = b^2t^{-1}a^{-4}tb^5ab^7t^{-1}b^3a & b^3a \in \T_A, \qquad t^{-1}a^4 = \phi\br{a}t^{-1} = b^6t^{-1} \\
& = b^2t^{-1}a^{-2}tb^2ab^7t^{-1}b^3a & b^2ab^7 \in \T_B, \qquad tb^3 = \phi^{-1}\br{b^3}t = a^2t \\
& = b^{-1}t^{-1}tb^2ab^7t^{-1}b^3a & t^{-1}a^{-2} = \phi\br{a^{-2}}t^{-1} = b^{-3}t^{-1} \\
& = bab^7t^{-1}b^3a,
\end{align*}
and $ \br{bab^7, t^{-1}, b^3a} $ is a normal form.
\end{example}

\begin{lemma}
Every countable group can be embedded into a finitely generated group.
\end{lemma}

\begin{proof}
Let $ G = \cbr{e_G, g_i \st i \in \NN} $. Consider $ G' = G * \abr{s \st} $. Define $ H_1 $ the subgroup generated by $ S_1 = \cbr{s^ig_is^i \st i \ge 0} $, and $ H_2 $ the subgroup generated by $ S_2 = \cbr{s^ig_is^i \st i \ge 1} $. Then $ H_i $ is the free group on $ S_i $, whence $ H_1 \cong H_2 $, where $ \phi\br{s^ig_is^i} = s^{i + 1}g_{i + 1}s^{i + 1} $. Let $ G'' = G' *_{H_1 = H_2} $. In $ G'' $ we have $ t^{-1}s^ig^is^it = s^{i + 1}g_{i + 1}s^{i + 1} $. Hence, $ G'' $ is generated by $ \cbr{g_0, s, t} $. Then $ G \hookrightarrow G'' $ and $ G'' $ is finitely generated.
\end{proof}

\end{document}